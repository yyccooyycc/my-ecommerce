"use strict";(self.webpackChunkmy_ecommerce=self.webpackChunkmy_ecommerce||[]).push([[862],{387:(e,t,r)=>{r.d(t,{A:()=>i});var s=r(43),l=r(770),a=r(315),o=r(579);const c=function(e){var t,r;let{product:c}=e;const d=(0,a.Zp)(),[i,n]=(0,s.useState)(c.colors[0]),[p,u]=(0,s.useState)(!1),[x,m]=(0,s.useState)(!0),g=c.images.filter((e=>e.color===i)),h=c.inventory.find((e=>e.color===i||{})),f=e=>{var t;return!(null!==(t=c.inventory)&&void 0!==t&&t.find((t=>t.color===e&&t.stock-t.sold>0)))};return(0,s.useEffect)((()=>{c.images.forEach((e=>{const t=new Image;t.src=e.image_url,t.loading="eager",t.onload=()=>m(!1)}))}),[c.images]),(0,o.jsxs)("div",{className:`${l.A.productCard.card} ${p?l.A.productCard.hoverShadow:""}`,onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[(0,o.jsxs)("div",{className:"relative",children:[x&&(0,o.jsx)("div",{className:`${l.A.productCard.skeleton}`}),g.length>0?(0,o.jsx)("img",{src:null===(r=g[0])||void 0===r?void 0:r.image_url,alt:c.name,className:`${l.A.productCard.image} ${x?"opacity-0":"opacity-100"}`,loading:"lazy",onLoad:()=>m(!1)},null===(t=g[0])||void 0===t?void 0:t.image_url):(0,o.jsx)("div",{className:`${l.A.productCard.noImage}`,children:"No Image Available"}),f(i)&&(0,o.jsx)("div",{className:`${l.A.productCard.outOfStockOverlay}`,children:"Out of Stock"})]}),(0,o.jsxs)("div",{className:`${l.A.productCard.details}`,onClick:()=>d(`/product/${c.product_id}`),children:[(0,o.jsx)("div",{className:`${l.A.productCard.color}`,children:i}),(0,o.jsx)("div",{className:`${l.A.productCard.name}`,children:c.name}),(0,o.jsx)("div",{className:"flex items-center",children:h.discount_percentage?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("span",{className:`${l.A.productCard.price} line-through px-2`,children:["$",h.list_price]}),(0,o.jsxs)("span",{className:`${l.A.productCard.price} ${l.A.productCard.priceDiscount}`,children:["$",h.discount_percentage?h.sale_price:h.list_price]})]}):(0,o.jsxs)("span",{className:`${l.A.productCard.price} px-2`,children:["$",h.list_price]})}),(0,o.jsx)("div",{className:`${l.A.productCard.colorOptions}`,children:c.colors.map(((e,t)=>(0,o.jsx)("button",{style:{backgroundColor:e},onClick:t=>((e,t)=>{e.stopPropagation(),n(t)})(t,e),className:`${l.A.productCard.colorButton} ${f(e)?l.A.productCard.colorButtonOutOfStock:""} ${e===i?l.A.productCard.colorButtonSelected:""}\n              }`},e||t)))})]})]})};var d=r(262);const i=e=>{let{products:t,className:r,isLoading:s}=e;return(0,o.jsx)("div",{className:`grid ${r}`,children:s?Array.from({length:12}).map(((e,t)=>(0,o.jsxs)("div",{className:"product-card-skeleton",children:[(0,o.jsx)(d.A,{variant:"rectangular",width:"100%",height:200}),(0,o.jsx)(d.A,{width:"80%",height:20,style:{marginTop:10}}),(0,o.jsx)(d.A,{width:"60%",height:20,style:{marginTop:5}})]},t))):t.map(((e,t)=>(0,o.jsx)(c,{product:e},`${e.product_id}-${t}`)))})}},405:(e,t,r)=>{r.d(t,{A:()=>l});var s=r(43);const l=e=>{let{collection:t}=e;const[r,l]=(0,s.useState)([]),[a,o]=(0,s.useState)(!0),[c,d]=(0,s.useState)(null);return(0,s.useEffect)((()=>{let e=!0;const r=localStorage.getItem(`products-${t}`);return r?(l(JSON.parse(r)),void o(!1)):(fetch(`https://www.greatfrontend.com/api/projects/challenges/e-commerce/products?collection=${t}`).then((e=>{if(!e.ok)throw new Error("Failed to fetch products");return e.json()})).then((r=>{e&&(l(r.data||[]),localStorage.setItem(`products-${t}`,JSON.stringify(r.data||[])),o(!1))})).catch((t=>{e&&(d(t.message),o(!1))})),()=>{e=!1})}),[t]),{products:r,loading:a,error:c}}},770:(e,t,r)=>{r.d(t,{A:()=>s});const s={latestArrivals:{noProducts:"flex justify-center items-center text-xl text-gray-500",container:"w-full max-w-[1408px] mx-auto flex flex-col gap-8 px-4 sm:px-8 md:px-16 lg:px-24",header:"flex justify-between items-center w-full max-w-[1408px] mx-auto px-4 sm:px-8 md:px-16 lg:px-24",title:"font-semibold text-2xl sm:text-3xl text-neutral-900",viewAllButton:"flex justify-center items-center gap-1.5 bg-white px-4 py-2.5 rounded border border-neutral-200",viewAllText:"font-medium text-base text-neutral-900",gridWrapper:"w-full",grid:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8 md:gap-12 lg:gap-16 xl:gap-20"},productListing:{grid:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-6 sm:gap-8 md:gap-12 lg:gap-16"},productCard:{card:"w-full sm:w-[280px] flex flex-col transition-shadow duration-200",image:"w-full sm:w-[280px] h-[300px] object-cover rounded-lg transition-opacity duration-300",skeleton:"absolute top-0 left-0 w-full h-[300px] bg-gray-200 animate-pulse rounded-lg",details:"flex flex-col gap-3 self-stretch h-[168px] py-4",color:"font-normal text-xs text-neutral-600 px-4",name:"font-medium text-lg text-neutral-900 px-4",price:"font-normal text-lg text-neutral-500",discount:"font-normal text-xs line-through text-neutral-600",colorOptions:"flex justify-start items-center gap-2 p-1 rounded",hoverShadow:"shadow-lg",outOfStockOverlay:"absolute top-0 left-0 w-full h-full bg-gray-400 opacity-50 flex justify-center items-center text-white font-bold",noImage:"w-full h-[300px] bg-gray-200 flex items-center justify-center text-gray-500 rounded-lg",priceDiscount:"text-red-500 ml-2 px-2",colorButton:"w-6 h-6 rounded-full cursor-pointer",colorButtonOutOfStock:"opacity-50 cursor-not-allowed",colorButtonSelected:"border-2 border-black"},colors:{primary:"#1E40AF",secondary:"#9333EA",neutral:{100:"#F5F5F5",200:"#E5E5E5",500:"#888888",900:"#333333"},success:"#28A745",error:"#DC3545"},spacing:{sm:"8px",md:"16px",lg:"32px",xl:"64px"},fontSize:{base:"16px",lg:"20px",xl:"24px"},borderRadius:{none:"0px",sm:"4px",md:"8px",lg:"16px"},extend:{screens:{xs:"480px",sm:"640px",md:"768px",lg:"1025px"}}}},862:(e,t,r)=>{r.r(t),r.d(t,{default:()=>d});var s=r(387),l=r(770),a=r(315),o=r(405),c=r(579);const d=()=>{const e=(0,a.Zp)(),{products:t,loading:r,error:d}=(0,o.A)({collection:"latest"});return r?(0,c.jsx)("p",{children:"Loading products..."}):d?(0,c.jsxs)("p",{children:["Error: ",d]}):0===t.length?(0,c.jsx)("div",{className:l.A.latestArrivals.noProducts,children:"No products available based on your filters."}):(0,c.jsxs)("div",{className:l.A.latestArrivals.container,children:[(0,c.jsxs)("div",{className:l.A.latestArrivals.header,children:[(0,c.jsx)("span",{className:l.A.latestArrivals.title,children:"Latest Arrivals"}),(0,c.jsx)("button",{className:l.A.latestArrivals.viewAllButton,onClick:()=>e("/products"),children:(0,c.jsx)("span",{className:l.A.latestArrivals.viewAllText,children:"View all"})})]}),(0,c.jsx)("div",{className:l.A.latestArrivals.gridWrapper,children:(0,c.jsx)(s.A,{products:t,className:l.A.latestArrivals.grid,isLoading:r})})]})}}}]);
//# sourceMappingURL=862.b97b593b.chunk.js.map