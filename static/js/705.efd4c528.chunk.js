"use strict";(self.webpackChunkmy_ecommerce=self.webpackChunkmy_ecommerce||[]).push([[705],{387:(e,t,s)=>{s.d(t,{A:()=>i});var r=s(43),l=s(770),a=s(315),o=s(579);const c=function(e){var t,s;let{product:c}=e;const n=(0,a.Zp)(),[i,d]=(0,r.useState)(c.colors[0]),[u,p]=(0,r.useState)(!1),[x,m]=(0,r.useState)(!0),g=c.images.filter((e=>e.color===i)),f=c.inventory.find((e=>e.color===i||{})),h=e=>{var t;return!(null!==(t=c.inventory)&&void 0!==t&&t.find((t=>t.color===e&&t.stock-t.sold>0)))};return(0,r.useEffect)((()=>{c.images.forEach((e=>{const t=new Image;t.src=e.image_url,t.loading="eager",t.onload=()=>m(!1)}))}),[c.images]),(0,o.jsxs)("div",{className:`${l.A.productCard.card} ${u?l.A.productCard.hoverShadow:""}`,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[(0,o.jsxs)("div",{className:"relative",children:[x&&(0,o.jsx)("div",{className:`${l.A.productCard.skeleton}`}),g.length>0?(0,o.jsx)("img",{src:null===(s=g[0])||void 0===s?void 0:s.image_url,alt:c.name,className:`${l.A.productCard.image} ${x?"opacity-0":"opacity-100"}`,loading:"lazy",onLoad:()=>m(!1)},null===(t=g[0])||void 0===t?void 0:t.image_url):(0,o.jsx)("div",{className:`${l.A.productCard.noImage}`,children:"No Image Available"}),h(i)&&(0,o.jsx)("div",{className:`${l.A.productCard.outOfStockOverlay}`,children:"Out of Stock"})]}),(0,o.jsxs)("div",{className:`${l.A.productCard.details}`,onClick:()=>n(`/product/${c.product_id}`),children:[(0,o.jsx)("div",{className:`${l.A.productCard.color}`,children:i}),(0,o.jsx)("div",{className:`${l.A.productCard.name}`,children:c.name}),(0,o.jsx)("div",{className:"flex items-center",children:f.discount_percentage?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("span",{className:`${l.A.productCard.price} line-through px-2`,children:["$",f.list_price]}),(0,o.jsxs)("span",{className:`${l.A.productCard.price} ${l.A.productCard.priceDiscount}`,children:["$",f.discount_percentage?f.sale_price:f.list_price]})]}):(0,o.jsxs)("span",{className:`${l.A.productCard.price} px-2`,children:["$",f.list_price]})}),(0,o.jsx)("div",{className:`${l.A.productCard.colorOptions}`,children:c.colors.map(((e,t)=>(0,o.jsx)("button",{style:{backgroundColor:e},onClick:t=>((e,t)=>{e.stopPropagation(),d(t)})(t,e),className:`${l.A.productCard.colorButton} ${h(e)?l.A.productCard.colorButtonOutOfStock:""} ${e===i?l.A.productCard.colorButtonSelected:""}\n              }`},e||t)))})]})]})};var n=s(262);const i=e=>{let{products:t,className:s,isLoading:r}=e;return(0,o.jsx)("div",{className:`grid ${s}`,children:r?Array.from({length:12}).map(((e,t)=>(0,o.jsxs)("div",{className:"product-card-skeleton",children:[(0,o.jsx)(n.A,{variant:"rectangular",width:"100%",height:200}),(0,o.jsx)(n.A,{width:"80%",height:20,style:{marginTop:10}}),(0,o.jsx)(n.A,{width:"60%",height:20,style:{marginTop:5}})]},t))):t.map(((e,t)=>(0,o.jsx)(c,{product:e},`${e.product_id}-${t}`)))})}},405:(e,t,s)=>{s.d(t,{A:()=>l});var r=s(43);const l=e=>{let{collection:t}=e;const[s,l]=(0,r.useState)([]),[a,o]=(0,r.useState)(!0),[c,n]=(0,r.useState)(null);return(0,r.useEffect)((()=>{let e=!0;const s=localStorage.getItem(`products-${t}`);return s?(l(JSON.parse(s)),void o(!1)):(fetch(`https://www.greatfrontend.com/api/projects/challenges/e-commerce/products?collection=${t}`).then((e=>{if(!e.ok)throw new Error("Failed to fetch products");return e.json()})).then((s=>{e&&(l(s.data||[]),localStorage.setItem(`products-${t}`,JSON.stringify(s.data||[])),o(!1))})).catch((t=>{e&&(n(t.message),o(!1))})),()=>{e=!1})}),[t]),{products:s,loading:a,error:c}}},705:(e,t,s)=>{s.r(t),s.d(t,{default:()=>x});var r=s(43),l=s(770),a=s(405),o=s(204),c=s(579);const n=["XS","S","M","L","XL"],i=["red","blue","green","black","white"],d=[5,4,3,2,1],u=e=>{let{filters:t,setFilters:s}=e;const[l,a]=(0,r.useState)(null),u=e=>{a(l===e?null:e)},p=(e,t)=>{s((s=>({...s,[e]:s[e].includes(t)?s[e].filter((e=>e!==t)):[...s[e],t]})))};return(0,c.jsxs)("div",{className:"w-64 p-4 border-r bg-gray-100 min-h-screen",children:[(0,c.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Filters"}),(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsxs)("button",{className:"flex justify-between w-full text-left font-medium py-2",onClick:()=>u("sizes"),children:["Sizes ",(0,c.jsx)(o.Vr3,{className:"transition "+("sizes"===l?"rotate-180":"")})]}),"sizes"===l&&(0,c.jsx)("div",{className:"pl-4",children:n.map((e=>(0,c.jsxs)("label",{className:"flex items-center mb-2",children:[(0,c.jsx)("input",{type:"checkbox",checked:t.sizes.includes(e),onChange:()=>p("sizes",e),className:"mr-2"}),e]},e)))})]}),(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsxs)("button",{className:"flex justify-between w-full text-left font-medium py-2",onClick:()=>u("colors"),children:["Colors ",(0,c.jsx)(o.Vr3,{className:"transition "+("colors"===l?"rotate-180":"")})]}),"colors"===l&&(0,c.jsx)("div",{className:"flex space-x-2 pl-4",children:i.map((e=>(0,c.jsx)("button",{className:"w-6 h-6 rounded-full border-2 "+(t.colors.includes(e)?"border-black":"border-transparent"),style:{backgroundColor:e},onClick:()=>p("colors",e)},e)))})]}),(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsxs)("button",{className:"flex justify-between w-full text-left font-medium py-2",onClick:()=>u("ratings"),children:["Ratings ",(0,c.jsx)(o.Vr3,{className:"transition "+("ratings"===l?"rotate-180":"")})]}),"ratings"===l&&(0,c.jsx)("div",{className:"pl-4",children:d.map((e=>(0,c.jsxs)("label",{className:"flex items-center mb-2",children:[(0,c.jsx)("input",{type:"checkbox",checked:t.ratings.includes(e),onChange:()=>p("ratings",e),className:"mr-2"}),(0,c.jsx)("span",{className:"flex text-yellow-500",children:Array(e).fill((0,c.jsx)(o.gt3,{}))})]},e)))})]}),Object.values(t).some((e=>e.length>0))&&(0,c.jsxs)("button",{onClick:()=>{s({sizes:[],colors:[],ratings:[]})},className:"mt-4 text-sm text-red-500 underline",children:["Clear All (",Object.values(t).flat().length,")"]})]})};var p=s(387);const x=()=>{const{products:e,loading:t,error:s}=(0,a.A)({collection:"latest"}),[o,n]=(0,r.useState)({category:["latest"],sizes:[],color:[],rating:[],sort:"created",direction:"desc"});return s?(0,c.jsxs)("p",{children:["Error: ",s]}):(0,c.jsxs)("div",{className:"flex",children:[(0,c.jsx)(u,{filters:o,setFilters:n}),(0,c.jsx)("div",{className:"flex-1 p-4",children:(0,c.jsx)(p.A,{products:e,className:l.A.productListing.grid,isLoading:t})})]})}},770:(e,t,s)=>{s.d(t,{A:()=>r});const r={latestArrivals:{noProducts:"flex justify-center items-center text-xl text-gray-500",container:"w-full max-w-[1408px] mx-auto flex flex-col gap-8 px-4 sm:px-8 md:px-16 lg:px-24",header:"flex justify-between items-center w-full max-w-[1408px] mx-auto px-4 sm:px-8 md:px-16 lg:px-24",title:"font-semibold text-2xl sm:text-3xl text-neutral-900",viewAllButton:"flex justify-center items-center gap-1.5 bg-white px-4 py-2.5 rounded border border-neutral-200",viewAllText:"font-medium text-base text-neutral-900",gridWrapper:"w-full",grid:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8 md:gap-12 lg:gap-16 xl:gap-20"},productListing:{grid:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-6 sm:gap-8 md:gap-12 lg:gap-16"},productCard:{card:"w-full sm:w-[280px] flex flex-col transition-shadow duration-200",image:"w-full sm:w-[280px] h-[300px] object-cover rounded-lg transition-opacity duration-300",skeleton:"absolute top-0 left-0 w-full h-[300px] bg-gray-200 animate-pulse rounded-lg",details:"flex flex-col gap-3 self-stretch h-[168px] py-4",color:"font-normal text-xs text-neutral-600 px-4",name:"font-medium text-lg text-neutral-900 px-4",price:"font-normal text-lg text-neutral-500",discount:"font-normal text-xs line-through text-neutral-600",colorOptions:"flex justify-start items-center gap-2 p-1 rounded",hoverShadow:"shadow-lg",outOfStockOverlay:"absolute top-0 left-0 w-full h-full bg-gray-400 opacity-50 flex justify-center items-center text-white font-bold",noImage:"w-full h-[300px] bg-gray-200 flex items-center justify-center text-gray-500 rounded-lg",priceDiscount:"text-red-500 ml-2 px-2",colorButton:"w-6 h-6 rounded-full cursor-pointer",colorButtonOutOfStock:"opacity-50 cursor-not-allowed",colorButtonSelected:"border-2 border-black"},colors:{primary:"#1E40AF",secondary:"#9333EA",neutral:{100:"#F5F5F5",200:"#E5E5E5",500:"#888888",900:"#333333"},success:"#28A745",error:"#DC3545"},spacing:{sm:"8px",md:"16px",lg:"32px",xl:"64px"},fontSize:{base:"16px",lg:"20px",xl:"24px"},borderRadius:{none:"0px",sm:"4px",md:"8px",lg:"16px"},extend:{screens:{xs:"480px",sm:"640px",md:"768px",lg:"1025px"}}}}}]);
//# sourceMappingURL=705.efd4c528.chunk.js.map