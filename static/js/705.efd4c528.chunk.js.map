{"version":3,"file":"static/js/705.efd4c528.chunk.js","mappings":"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","sources":["components/product/ProductCard.js","components/product/ProductGrid.js","components/hooks/useFetchProducts.js","components/filters/FilterSidebar.js","pages/ProductListing.js","assets/styles/theme.js"],"sourcesContent":["import React from \"react\";\r\nimport theme from \"../../assets/styles/theme\";\r\nimport { useState, useEffect } from 'react';\r\nimport { useNavigate } from \"react-router-dom\"; \r\n\r\n\r\nfunction ProductCard({ product }) {\r\n  const navigate = useNavigate();\r\n\r\n  const [selectedColor, setSelectedColor] = useState(product.colors[0]);\r\n  const [isHovered, setIsHovered] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const handleColorSelect = (event, color) => {\r\n    event.stopPropagation(); //otherwise, it will trigger the parent onClick event and navigate to the product details page\r\n    setSelectedColor(color);\r\n  };\r\n\r\n  const filteredImages = product.images.filter(img => img.color === selectedColor);\r\n  const selectedInventory = product.inventory.find(\r\n    (inv) => inv.color === selectedColor || {}\r\n  );\r\n  const getCurrentPrice = () => {\r\n    return selectedInventory.discount_percentage\r\n      ? selectedInventory.sale_price\r\n      : selectedInventory.list_price;\r\n  };\r\n\r\n  const isOutOfStock = (color) => {\r\n    return !product.inventory?.find((inv) => inv.color === color && (inv.stock-inv.sold) > 0);\r\n  };\r\n\r\n  useEffect(() => {\r\n    product.images.forEach(img => {\r\n      const preloadedImg = new Image();\r\n      preloadedImg.src = img.image_url;\r\n      preloadedImg.loading = \"eager\";\r\n      preloadedImg.onload = () => setIsLoading(false);\r\n    });\r\n  }, [product.images]); \r\n\r\n  return (\r\n    <div\r\n      className={`${theme.productCard.card} ${\r\n        isHovered ? theme.productCard.hoverShadow : \"\"\r\n      }`}\r\n      onMouseEnter={() => setIsHovered(true)}\r\n      onMouseLeave={() => setIsHovered(false)}\r\n    >\r\n      <div className=\"relative\">\r\n      {isLoading && <div className={`${theme.productCard.skeleton}`} />}\r\n        {filteredImages.length > 0 ? (\r\n          <img\r\n            key={filteredImages[0]?.image_url}\r\n            src={filteredImages[0]?.image_url}\r\n            alt={product.name}\r\n            className={`${theme.productCard.image} ${isLoading ? \"opacity-0\" : \"opacity-100\"}`}\r\n            loading=\"lazy\"\r\n            onLoad={() => setIsLoading(false)}\r\n          />\r\n        ) : (\r\n          <div className={`${theme.productCard.noImage}`}>\r\n            No Image Available\r\n          </div>\r\n        )}\r\n        {isOutOfStock(selectedColor) && (\r\n          <div className={`${theme.productCard.outOfStockOverlay}`}>\r\n            Out of Stock\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div\r\n        className={`${theme.productCard.details}`}\r\n        onClick={() => navigate(`/product/${product.product_id}`)}\r\n      >\r\n        <div className={`${theme.productCard.color}`}>{selectedColor}</div>\r\n        <div className={`${theme.productCard.name}`}>{product.name}</div>\r\n\r\n        <div className=\"flex items-center\">\r\n          {selectedInventory.discount_percentage ? (\r\n            <>\r\n              <span className={`${theme.productCard.price} line-through px-2`}>\r\n                ${selectedInventory.list_price}\r\n              </span>\r\n              <span\r\n                className={`${theme.productCard.price} ${theme.productCard.priceDiscount}`}\r\n              >\r\n                ${getCurrentPrice()}\r\n              </span>\r\n            </>\r\n          ) : (\r\n            <span className={`${theme.productCard.price} px-2`}>\r\n              ${selectedInventory.list_price}\r\n            </span>\r\n          )}\r\n        </div>\r\n\r\n        <div className={`${theme.productCard.colorOptions}`}>\r\n          {product.colors.map((color, index) => (\r\n            <button\r\n              key={color || index}\r\n              style={{ backgroundColor: color }}\r\n              onClick={(event) => handleColorSelect(event, color)}\r\n              className={`${theme.productCard.colorButton} ${\r\n                isOutOfStock(color)\r\n                  ? theme.productCard.colorButtonOutOfStock\r\n                  : \"\"\r\n              } ${\r\n                color === selectedColor\r\n                  ? theme.productCard.colorButtonSelected\r\n                  : \"\"\r\n              }\r\n              }`}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nexport default ProductCard;\r\n","import React from \"react\";\r\nimport ProductCard from \"./ProductCard\";\r\nimport { Skeleton } from \"@mui/material\";\r\n\r\nconst ProductGrid = ({ products, className, isLoading }) => {\r\n  return (\r\n    <div className={`grid ${className}`}>\r\n      {isLoading\r\n        ? Array.from({ length: 12 }).map((_, index) => (\r\n            <div key={index} className=\"product-card-skeleton\">\r\n              <Skeleton variant=\"rectangular\" width=\"100%\" height={200} />\r\n              <Skeleton width=\"80%\" height={20} style={{ marginTop: 10 }} />\r\n              <Skeleton width=\"60%\" height={20} style={{ marginTop: 5 }} />\r\n            </div>\r\n          ))\r\n        : products.map((product, index) => (\r\n            <ProductCard key={`${product.product_id}-${index}`} product={product} />\r\n          ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductGrid;\r\n","import { useState, useEffect } from \"react\";\r\n\r\nconst useFetchProducts = ({ collection }) => {\r\n  const [products, setProducts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    let isMounted = true;\r\n    const cachedData = localStorage.getItem(`products-${collection}`);\r\n    if (cachedData) {\r\n      setProducts(JSON.parse(cachedData));\r\n      setLoading(false); \r\n      return;\r\n    } \r\n\r\n    fetch(`https://www.greatfrontend.com/api/projects/challenges/e-commerce/products?collection=${collection}`)\r\n      .then((res) => {\r\n        if (!res.ok) {\r\n          throw new Error(\"Failed to fetch products\");\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((response) => {\r\n        if (isMounted) {\r\n          setProducts(response.data || []);\r\n          localStorage.setItem(`products-${collection}`, JSON.stringify(response.data || []));\r\n          setLoading(false);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        if (isMounted) {\r\n          setError(error.message);\r\n          setLoading(false);\r\n        }\r\n      });\r\n\r\n    return () => {\r\n      isMounted = false;\r\n    };\r\n  }, [collection]);\r\n\r\n  return { products, loading, error };\r\n};\r\n\r\nexport default useFetchProducts;\r\n","import { useState } from \"react\";\r\nimport { FaChevronDown, FaStar } from \"react-icons/fa\";\r\n\r\nconst sizes = [\"XS\", \"S\", \"M\", \"L\", \"XL\"];\r\nconst colors = [\"red\", \"blue\", \"green\", \"black\", \"white\"];\r\nconst ratings = [5, 4, 3, 2, 1];\r\n\r\nconst FilterSidebar = ({ filters, setFilters }) => {\r\n  const [openSection, setOpenSection] = useState(null);\r\n\r\n  const toggleSection = (section) => {\r\n    setOpenSection(openSection === section ? null : section);\r\n  };\r\n\r\n  const handleCheckboxChange = (filterType, value) => {\r\n    setFilters((prevFilters) => ({\r\n      ...prevFilters,\r\n      [filterType]: prevFilters[filterType].includes(value)\r\n        ? prevFilters[filterType].filter((item) => item !== value)\r\n        : [...prevFilters[filterType], value],\r\n    }));\r\n  };\r\n\r\n  const clearFilters = () => {\r\n    setFilters({ sizes: [], colors: [], ratings: [] });\r\n  };\r\n\r\n  return (\r\n    <div className=\"w-64 p-4 border-r bg-gray-100 min-h-screen\">\r\n      <h2 className=\"text-lg font-semibold mb-4\">Filters</h2>\r\n\r\n      {/* Size Filter */}\r\n      <div className=\"mb-4\">\r\n        <button\r\n          className=\"flex justify-between w-full text-left font-medium py-2\"\r\n          onClick={() => toggleSection(\"sizes\")}\r\n        >\r\n          Sizes <FaChevronDown className={`transition ${openSection === \"sizes\" ? \"rotate-180\" : \"\"}`} />\r\n        </button>\r\n        {openSection === \"sizes\" && (\r\n          <div className=\"pl-4\">\r\n            {sizes.map((size) => (\r\n              <label key={size} className=\"flex items-center mb-2\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={filters.sizes.includes(size)}\r\n                  onChange={() => handleCheckboxChange(\"sizes\", size)}\r\n                  className=\"mr-2\"\r\n                />\r\n                {size}\r\n              </label>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Color Swatches */}\r\n      <div className=\"mb-4\">\r\n        <button\r\n          className=\"flex justify-between w-full text-left font-medium py-2\"\r\n          onClick={() => toggleSection(\"colors\")}\r\n        >\r\n          Colors <FaChevronDown className={`transition ${openSection === \"colors\" ? \"rotate-180\" : \"\"}`} />\r\n        </button>\r\n        {openSection === \"colors\" && (\r\n          <div className=\"flex space-x-2 pl-4\">\r\n            {colors.map((color) => (\r\n              <button\r\n                key={color}\r\n                className={`w-6 h-6 rounded-full border-2 ${filters.colors.includes(color) ? \"border-black\" : \"border-transparent\"}`}\r\n                style={{ backgroundColor: color }}\r\n                onClick={() => handleCheckboxChange(\"colors\", color)}\r\n              ></button>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Rating Filter */}\r\n      <div className=\"mb-4\">\r\n        <button\r\n          className=\"flex justify-between w-full text-left font-medium py-2\"\r\n          onClick={() => toggleSection(\"ratings\")}\r\n        >\r\n          Ratings <FaChevronDown className={`transition ${openSection === \"ratings\" ? \"rotate-180\" : \"\"}`} />\r\n        </button>\r\n        {openSection === \"ratings\" && (\r\n          <div className=\"pl-4\">\r\n            {ratings.map((rating) => (\r\n              <label key={rating} className=\"flex items-center mb-2\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={filters.ratings.includes(rating)}\r\n                  onChange={() => handleCheckboxChange(\"ratings\", rating)}\r\n                  className=\"mr-2\"\r\n                />\r\n                <span className=\"flex text-yellow-500\">\r\n                  {Array(rating).fill(<FaStar />)}\r\n                </span>\r\n              </label>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Clear All Button */}\r\n      {Object.values(filters).some((arr) => arr.length > 0) && (\r\n        <button\r\n          onClick={clearFilters}\r\n          className=\"mt-4 text-sm text-red-500 underline\"\r\n        >\r\n          Clear All ({Object.values(filters).flat().length})\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilterSidebar;\r\n","import { useState } from \"react\";\r\nimport theme from \"../assets/styles/theme\";\r\nimport useFetchProducts from \"../components/hooks/useFetchProducts\";\r\nimport FilterSidebar from \"../components/filters/FilterSidebar\";\r\nimport ProductGrid from \"../components/product/ProductGrid\";\r\n\r\nconst ProductListing = () => {\r\n  const { products, loading, error } = useFetchProducts({ collection: \"latest\" });\r\n\r\n  const [filters, setFilters] = useState({\r\n    category: [\"latest\"],\r\n    sizes: [],\r\n    color: [],\r\n    rating: [],\r\n    sort: \"created\",\r\n    direction: \"desc\",\r\n  });\r\n  if (error) return <p>Error: {error}</p>;\r\n\r\n  return (\r\n    <div className=\"flex\">\r\n      {/* Sidebar */}\r\n      <FilterSidebar filters={filters} setFilters={setFilters} />\r\n\r\n      {/* Product Grid */}\r\n      <div className=\"flex-1 p-4\">\r\n        <ProductGrid products={products} className={theme.productListing.grid} isLoading={loading} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductListing;\r\n","const theme = {\r\n  latestArrivals: {\r\n    noProducts: \"flex justify-center items-center text-xl text-gray-500\",\r\n    container:\r\n      \"w-full max-w-[1408px] mx-auto flex flex-col gap-8 px-4 sm:px-8 md:px-16 lg:px-24\",\r\n    header: \"flex justify-between items-center w-full max-w-[1408px] mx-auto px-4 sm:px-8 md:px-16 lg:px-24\",\r\n    title: \"font-semibold text-2xl sm:text-3xl text-neutral-900\",\r\n    viewAllButton:\r\n      \"flex justify-center items-center gap-1.5 bg-white px-4 py-2.5 rounded border border-neutral-200\",\r\n    viewAllText: \"font-medium text-base text-neutral-900\",\r\n    gridWrapper: \"w-full\",\r\n    grid: \"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8 md:gap-12 lg:gap-16 xl:gap-20\",\r\n  },\r\n  productListing: {\r\n    grid: \"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-6 sm:gap-8 md:gap-12 lg:gap-16\",\r\n  },\r\n  productCard: {\r\n    card: \"w-full sm:w-[280px] flex flex-col transition-shadow duration-200\",\r\n    image: \"w-full sm:w-[280px] h-[300px] object-cover rounded-lg transition-opacity duration-300\",\r\n    skeleton: \"absolute top-0 left-0 w-full h-[300px] bg-gray-200 animate-pulse rounded-lg\",\r\n    details: \"flex flex-col gap-3 self-stretch h-[168px] py-4\",\r\n    color: \"font-normal text-xs text-neutral-600 px-4\",\r\n    name: \"font-medium text-lg text-neutral-900 px-4\",\r\n    price: \"font-normal text-lg text-neutral-500\",\r\n    discount: \"font-normal text-xs line-through text-neutral-600\",\r\n    colorOptions: \"flex justify-start items-center gap-2 p-1 rounded\",\r\n    hoverShadow: \"shadow-lg\",\r\n    outOfStockOverlay: \"absolute top-0 left-0 w-full h-full bg-gray-400 opacity-50 flex justify-center items-center text-white font-bold\",\r\n    noImage: \"w-full h-[300px] bg-gray-200 flex items-center justify-center text-gray-500 rounded-lg\",\r\n    priceDiscount: \"text-red-500 ml-2 px-2\",\r\n    colorButton: \"w-6 h-6 rounded-full cursor-pointer\",\r\n    colorButtonOutOfStock: \"opacity-50 cursor-not-allowed\",\r\n    colorButtonSelected: \"border-2 border-black\",\r\n  },  \r\n    colors: {\r\n      primary: \"#1E40AF\",\r\n      secondary: \"#9333EA\",\r\n      neutral: {\r\n        100: \"#F5F5F5\",\r\n        200: \"#E5E5E5\",\r\n        500: \"#888888\",\r\n        900: \"#333333\",\r\n      },\r\n      success: \"#28A745\",\r\n      error: \"#DC3545\",\r\n    },\r\n    spacing: {\r\n      sm: \"8px\",\r\n      md: \"16px\",\r\n      lg: \"32px\",\r\n      xl: \"64px\",\r\n    },\r\n    fontSize: {\r\n      base: \"16px\",\r\n      lg: \"20px\",\r\n      xl: \"24px\",\r\n    },\r\n    borderRadius: {\r\n      none: \"0px\",\r\n      sm: \"4px\",\r\n      md: \"8px\",\r\n      lg: \"16px\",\r\n    },\r\n    extend: {\r\n      screens: {\r\n        'xs': '480px',\r\n        'sm': '640px',\r\n        'md': '768px',\r\n        'lg': '1025px', //for ipad pro which is 1024*1366px will be squeezed into 4 cols if it's 1024\r\n      },\r\n    },\r\n  };  \r\n\r\nexport default theme;"],"names":["_ref","_filteredImages$","_filteredImages$2","product","navigate","useNavigate","selectedColor","setSelectedColor","useState","colors","isHovered","setIsHovered","isLoading","setIsLoading","filteredImages","images","filter","img","color","selectedInventory","inventory","find","inv","isOutOfStock","_product$inventory","stock","sold","useEffect","forEach","preloadedImg","Image","src","image_url","loading","onload","_jsxs","className","theme","productCard","card","hoverShadow","onMouseEnter","onMouseLeave","children","_jsx","skeleton","length","alt","name","image","onLoad","noImage","outOfStockOverlay","details","onClick","product_id","discount_percentage","_Fragment","price","list_price","priceDiscount","sale_price","colorOptions","map","index","style","backgroundColor","event","handleColorSelect","stopPropagation","colorButton","colorButtonOutOfStock","colorButtonSelected","products","Array","from","_","Skeleton","variant","width","height","marginTop","ProductCard","collection","setProducts","setLoading","error","setError","isMounted","cachedData","localStorage","getItem","JSON","parse","fetch","then","res","ok","Error","json","response","data","setItem","stringify","catch","message","sizes","ratings","filters","setFilters","openSection","setOpenSection","toggleSection","section","handleCheckboxChange","filterType","value","prevFilters","includes","item","FaChevronDown","size","type","checked","onChange","rating","fill","FaStar","Object","values","some","arr","clearFilters","flat","ProductListing","useFetchProducts","category","sort","direction","FilterSidebar","ProductGrid","productListing","grid","latestArrivals","noProducts","container","header","title","viewAllButton","viewAllText","gridWrapper","discount","primary","secondary","neutral","success","spacing","sm","md","lg","xl","fontSize","base","borderRadius","none","extend","screens"],"sourceRoot":""}