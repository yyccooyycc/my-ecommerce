{"version":3,"file":"static/js/78.3a2cbde0.chunk.js","mappings":"kJAAA,MAkJA,EAlJc,CAIZA,OAAQ,CACNC,OAAQ,gDACRC,MAAO,0CAMTC,eAAgB,CACdC,UAAW,+EACXH,OAAQ,gDACRC,MAAO,yCACPG,KAAM,2FACNC,WACE,qIAEFC,sBAAuB,gBACvBC,gBAAiB,iBAMnBC,YAAa,CACXC,KAAM,2IACNC,MAAO,yFACPC,SAAU,8EACVC,QAAS,0BACTC,MAAO,uCACPC,KAAM,gDACNC,MAAO,uCACPC,SAAU,oDACVC,aAAc,oDACdC,YAAa,YACbC,kBACE,mHACFC,QACE,yFACFC,cAAe,yBACfC,YAAa,sCACbC,sBAAuB,gCACvBC,oBAAqB,yBAMvBC,OAAQ,CACNC,QAAS,UACTC,UAAW,UACXC,QAAS,CACP,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,WAEPC,QAAS,UACTC,MAAO,WAMTC,QAAS,CACPC,GAAI,MACJC,GAAI,OACJC,GAAI,OACJC,GAAI,QAENC,SAAU,CACRC,KAAM,OACNH,GAAI,OACJC,GAAI,QAENG,aAAc,CACZC,KAAM,MACNP,GAAI,MACJC,GAAI,MACJC,GAAI,QAMNM,OAAQ,CACNC,QAAS,CACPC,GAAI,QACJV,GAAI,QACJC,GAAI,QACJC,GAAI,SACJC,GAAI,WAORQ,OAAQ,CACNxC,UACE,8IAGFyC,cAAe,+DACfC,eAAgB,wDAMlBC,YAAa,CACX3C,UACE,+GACFM,KAAM,sHACNsC,aAAc,sDACdrC,MAAO,6BACPE,QAAS,0BACToC,SAAU,2CACV/C,MAAO,6CACPc,MAAO,yBAMTkC,cAAe,CACb9C,UAAW,4EACX+C,KAAM,8DACNC,MAAO,mFACPnD,OAAQ,gFACRoD,cAAe,yDACfC,eAAgB,OAChBC,YAAa,2EACbC,YAAa,mCACbC,aACE,+KAIJC,WAAY,wBACZC,WAAY,qCC/IDC,EAAU,CAAC,EAAG,EAAG,EAAG,EAAG,GAEvBC,EACE,aADFA,EAED,WAFCA,EAGJ,QAHIA,EAIH,SAKGC,EAAsB,CACjC,CAAEC,cAAe,SAAUhD,KAAM,mBACjC,CAAEgD,cAAe,OAAQhD,KAAM,gBAC/B,CAAEgD,cAAe,QAAShD,KAAM,eAChC,CAAEgD,cAAe,QAAShD,KAAM,iBCgClC,EA5C4BiD,KAC1B,MAAOC,EAAaC,IAAkBC,EAAAA,EAAAA,UAAS,KACxCC,EAASC,IAAcF,EAAAA,EAAAA,WAAS,IAChCpC,EAAOuC,IAAYH,EAAAA,EAAAA,UAAS,MAsCnC,OApCAI,EAAAA,EAAAA,YAAU,KACR,IAAIC,GAAY,EA8BhB,OA5BAC,MAAM,6EACHC,MAAMC,IACL,IAAKA,EAAIC,GAAI,MAAM,IAAIC,MAAM,+BAC7B,OAAOF,EAAIG,MAAM,IAElBJ,MAAMK,IACL,GAAIP,GAAiB,OAAJO,QAAI,IAAJA,GAAAA,EAAMA,KAAM,CAC3B,MAAMC,EAAiBC,MAAMC,KAC3B,IAAIC,IACFJ,EAAKA,KACFK,QAAQC,GAAMA,EAAEC,aAChBC,KAAKF,GAAM,CAACA,EAAEC,WAAWvB,cAAesB,EAAEC,WAAWvE,UAE1DwE,KAAIC,IAAA,IAAEzB,EAAehD,GAAKyE,EAAA,MAAM,CAAEzB,gBAAehD,OAAM,IAEnD0E,EAAS,IAAI3B,KAAwBkB,GACrCU,EAAUT,MAAMC,KAAK,IAAIC,IAAIM,EAAOF,KAAKI,GAAM,CAACA,EAAE5B,cAAe4B,MAAKC,UAE5E1B,EAAewB,EACjB,KAEDG,OAAOC,IACFtB,GAAWF,EAASwB,EAAIC,QAAQ,IAErCC,SAAQ,KACHxB,GAAWH,GAAW,EAAM,IAG7B,KACLG,GAAY,CAAK,CAClB,GACA,IAEI,CAAEP,cAAaG,UAASrC,QAAO,ECQxC,EAhDyBkE,KACvB,MAAOC,EAAUC,IAAehC,EAAAA,EAAAA,UAAS,KAClCC,EAASC,IAAcF,EAAAA,EAAAA,WAAS,IAChCpC,EAAOuC,IAAYH,EAAAA,EAAAA,UAAS,MA0CnC,OAxCAI,EAAAA,EAAAA,YAAU,KACR,MAAM6B,EAAK,IAAIC,gBAoCf,MAlCA,WACE,IACEhC,GAAW,GACXC,EAAS,MAET,IAAIgC,EAAO,EACX,MAAMC,EAAU,EAChB,IAAIC,EAAM,GAEV,OAAa,CACX,MAAM7B,QAAYF,MAAM,kFAAmB6B,cAAiBC,IAAW,CACrEE,OAAQL,EAAGK,SAEb,IAAK9B,EAAIC,GAAI,MAAM,IAAIC,MAAM,4BAE7B,MAAMC,QAAaH,EAAIG,OACjBC,EAAOE,MAAMyB,QAAY,OAAJ5B,QAAI,IAAJA,OAAI,EAAJA,EAAMC,MAAQD,EAAKC,KAAO,GACrDyB,EAAMA,EAAIG,OAAO5B,GAEjB,MAAM6B,EAAM9B,EAAK+B,WACjB,IAAKD,IAAQA,EAAIE,SAAU,MAC3BR,GAAQ,CACV,CAEAH,EAAYK,EACd,CAAE,MAAOO,GACQ,eAAXA,EAAEhG,MACJuD,EAASyC,EAAEhB,SAAWiB,OAAOD,GAEjC,CAAC,QACC1C,GAAW,EACb,CACD,EAhCD,GAkCO,IAAM+B,EAAGa,OAAO,GACtB,IAEI,CAAEf,WAAU9B,UAASrC,QAAO,E,sBC3CrC,MAAMmF,EAAqB,CACzB,CAAEC,GAAI,SAAUC,MAAO,UACvB,CAAED,GAAI,QAASC,MAAO,SACtB,CAAED,GAAI,MAAOC,MAAO,QAGhBC,EAAgB,CACpB,CAAEC,KAAM,KAAMF,MAAO,MACrB,CAAEE,KAAM,IAAKF,MAAO,KACpB,CAAEE,KAAM,IAAKF,MAAO,KACpB,CAAEE,KAAM,IAAKF,MAAO,KACpB,CAAEE,KAAM,KAAMF,MAAO,OAGjBG,EAAiB,CACrB,QACA,QACA,MACA,SACA,SACA,QACA,OACA,QACA,QACA,QAwOF,EArOsB/B,IASf,IATgB,QACrBgC,EAAO,WACPC,EAAU,cACVC,EAAa,iBACbC,EAAgB,YAChB1D,EAAc,GAAE,WAChB2D,EAAa,GAAE,MACfC,EAAQ,GAAE,OACVnG,EAAS,IACV8D,EACC,MAAOsC,EAAaC,IAAkB5D,EAAAA,EAAAA,UAAS,CAC7CmB,YAAY,EACZuC,OAAO,EACPG,UAAU,EACVtG,QAAQ,EACRkC,SAAS,IAGLqE,EAAkBL,GAAcA,EAAWM,OAASN,EAAaV,EACjEiB,EAAcN,GAASA,EAAMK,OAASL,EAAQR,EAC9CnG,EAAeQ,GAAUA,EAAOwG,OAASxG,EAAS6F,EAElDa,EAAiBC,GAAQN,GAAgBO,IAAI,IAAWA,EAAM,CAACD,IAAOC,EAAKD,OAE3EE,EAAuBA,CAACC,EAAYC,KACxChB,GAAYa,IACV,IAAII,EAAgB,IAAIJ,EAAKE,IAc7B,OAZIE,EAAcC,SAASF,GACzBC,EAAgBA,EAActD,QAAQwD,GAAMA,IAAMH,IAElDC,EAAcG,KAAKJ,GAGjBD,IAAe3E,GACY,IAAzB6E,EAAcR,SAChBQ,EAAgB,CAAC,WAId,IACFJ,EACH,CAACE,GAAaE,EACf,GACD,EAGJ,OACEI,EAAAA,EAAAA,MAAA,SACEC,UAAW,GAAGC,EAAM9F,cAAc9C,aAAasH,EAAgB,QAAU,yBAAyBuB,SAAA,EAGlGC,EAAAA,EAAAA,KAAA,OAAKH,UAAWC,EAAM9F,cAAcjD,OAAOgJ,UACzCC,EAAAA,EAAAA,KAAA,UACEH,UAAWC,EAAM9F,cAAcM,YAC/B2F,QAASA,IAAMxB,GAAiB,QAKpCmB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,qCAAoCE,SAAA,EACjDH,EAAAA,EAAAA,MAAA,UACEK,QAASA,IAAMf,EAAc,cAC7BW,UAAWC,EAAM9F,cAAcG,cAAc4F,SAAA,EAE7CC,EAAAA,EAAAA,KAAA,QAAAD,SAAM,iBACNC,EAAAA,EAAAA,KAAA,QAAAD,SAAOnB,EAAYxC,WAAa,SAAM,SAEvCwC,EAAYxC,aACX4D,EAAAA,EAAAA,KAAA,OAAKH,UAAWC,EAAM9F,cAAcI,eAAe2F,SACrC,OAAXhF,QAAW,IAAXA,OAAW,EAAXA,EAAasB,KAAI,CAAA6D,EAA0BC,KAAK,IAAAC,EAAAC,EAAA,IAA9B,KAAExI,EAAI,cAAEgD,GAAeqF,EAAA,OACxCN,EAAAA,EAAAA,MAAA,SAEEC,UAAU,kDAAiDE,SAAA,EAE3DC,EAAAA,EAAAA,KAAA,SACEM,KAAK,WACLC,QAAkE,QAA3DH,EAAkC,QAAlCC,EAAE/B,EAAQ3D,UAAwB,IAAA0F,OAAA,EAAhCA,EAAkCZ,SAAS5E,UAAc,IAAAuF,GAAAA,EAClEI,SAAUA,IAAMnB,EAAqB1E,EAAyBE,MAEhEmF,EAAAA,EAAAA,KAAA,QAAAD,SAAOlI,MARF,GAAGgD,KAAiBsF,IASnB,UAOhBP,EAAAA,EAAAA,MAAA,OAAKC,UAAU,qCAAoCE,SAAA,EACjDH,EAAAA,EAAAA,MAAA,UACEK,QAASA,IAAMf,EAAc,SAC7BW,UAAWC,EAAM9F,cAAcG,cAAc4F,SAAA,EAE7CC,EAAAA,EAAAA,KAAA,QAAAD,SAAM,WACNC,EAAAA,EAAAA,KAAA,QAAAD,SAAOnB,EAAYD,MAAQ,SAAM,SAElCC,EAAYD,QACXqB,EAAAA,EAAAA,KAAA,OAAKH,UAAWC,EAAM9F,cAAcI,eAAe2F,SAChDd,EAAY5C,KAAIoE,IAAA,IAAAC,EAAA,IAAC,KAAEtC,EAAI,MAAEF,GAAOuC,EAAA,OAC/Bb,EAAAA,EAAAA,MAAA,SAAkBC,UAAU,mCAAkCE,SAAA,EAC5DC,EAAAA,EAAAA,KAAA,SACEM,KAAK,WACLC,QAAkD,QAA3CG,EAAEpC,EAAQ3D,GAAmB8E,SAASrB,UAAK,IAAAsC,GAAAA,EAClDF,SAAUA,IAAMnB,EAAqB,QAASjB,MAEhD4B,EAAAA,EAAAA,KAAA,QAAAD,SAAO7B,MANGE,EAOJ,UAOhBwB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,qCAAoCE,SAAA,EACjDH,EAAAA,EAAAA,MAAA,UACEK,QAASA,IAAMf,EAAc,YAC7BW,UAAWC,EAAM9F,cAAcG,cAAc4F,SAAA,EAE7CC,EAAAA,EAAAA,KAAA,QAAAD,SAAM,cACNC,EAAAA,EAAAA,KAAA,QAAAD,SAAOnB,EAAYE,SAAW,SAAM,SAErCF,EAAYE,WACXkB,EAAAA,EAAAA,KAAA,OAAKH,UAAWC,EAAM9F,cAAcI,eAAe2F,SAChDhB,EAAgB1C,KAAIsE,IAAA,IAAC,GAAE1C,EAAE,MAAEC,GAAOyC,EAAA,OACjCf,EAAAA,EAAAA,MAAA,SAAgBC,UAAU,mCAAkCE,SAAA,EAC1DC,EAAAA,EAAAA,KAAA,SACEM,KAAK,WACLC,QAASjC,EAAQ3D,GAAsB8E,SAASxB,GAChDuC,SAAUA,IAAMnB,EAAqB,WAAYpB,MAEnD+B,EAAAA,EAAAA,KAAA,QAAAD,SAAO7B,MANGD,EAOJ,UAOhB2B,EAAAA,EAAAA,MAAA,OAAKC,UAAU,qCAAoCE,SAAA,EACjDH,EAAAA,EAAAA,MAAA,UACEK,QAASA,IAAMf,EAAc,UAC7BW,UAAWC,EAAM9F,cAAcG,cAAc4F,SAAA,EAE7CC,EAAAA,EAAAA,KAAA,QAAAD,SAAM,YACNC,EAAAA,EAAAA,KAAA,QAAAD,SAAOnB,EAAYpG,OAAS,SAAM,SAEnCoG,EAAYpG,SACXwH,EAAAA,EAAAA,KAAA,OAAKH,UAAU,4BAA2BE,SACvC/H,EAAaqE,KAAKzE,IACjBoI,EAAAA,EAAAA,KAAA,UAEEC,QAASA,IAAMZ,EAAqB,SAAUzH,GAC9CiI,UAAW,gCACTvB,EAAQ3D,GAAoB8E,SAAS7H,GACjC,yBACA,mBAENgJ,MAAO,CAAEC,gBAAiBjJ,GAC1BZ,MAAOY,GARFA,WAgBfgI,EAAAA,EAAAA,MAAA,OAAKC,UAAU,qCAAoCE,SAAA,EACjDH,EAAAA,EAAAA,MAAA,UACEK,QAASA,IAAMf,EAAc,WAC7BW,UAAWC,EAAM9F,cAAcG,cAAc4F,SAAA,EAE7CC,EAAAA,EAAAA,KAAA,QAAAD,SAAM,aACNC,EAAAA,EAAAA,KAAA,QAAAD,SAAOnB,EAAYlE,QAAU,SAAM,SAGpCkE,EAAYlE,UACXsF,EAAAA,EAAAA,KAAA,OAAKH,UAAWC,EAAM9F,cAAcI,eAAe2F,SAChDrF,EAAQ2B,KAAKyE,IACZlB,EAAAA,EAAAA,MAAA,SAAeC,UAAU,8CAA6CE,SAAA,EACpEC,EAAAA,EAAAA,KAAA,SACEM,KAAK,WACLC,QAASjC,EAAQ5D,QAAQ+E,SAASqB,GAClCN,SAAUA,IAAMnB,EAAqB,UAAWyB,MAElDlB,EAAAA,EAAAA,MAAA,QAAMC,UAAU,oBAAmBE,SAAA,CAChChE,MAAMC,KAAK,CAAEgD,OAAQ8B,IAAKzE,KAAI,CAAC0E,EAAGC,KACjChB,EAAAA,EAAAA,KAACiB,EAAAA,IAAM,CAASpB,UAAU,mBAAbmB,KAEdjF,MAAMC,KAAK,CAAEgD,OAAQ,EAAI8B,IAAKzE,KAAI,CAAC0E,EAAGC,KACrChB,EAAAA,EAAAA,KAACiB,EAAAA,IAAM,CAAgBpB,UAAU,iBAApB,KAAKmB,YAXZF,UAqBnB,MACC,MAAMI,EAAcC,OAAOC,QAAQ9C,GAAS+C,QAAO,CAACC,EAAGC,KAAc,IAAXC,EAAG9B,GAAE6B,EAC7D,OAAIxF,MAAMyB,QAAQkC,GAAW4B,EAAM5B,EAAEV,OAC3B,SAANwC,GAA6B,kBAAN9B,GAAkBA,EAAU4B,EAAM,EACtDA,CAAG,GACT,GAEH,OAAOJ,EAAc,GACnBtB,EAAAA,EAAAA,MAAA,UACEK,QAASA,IACP1B,EAAW,CACTnC,WAAY,GACZ0C,SAAU,GACVH,MAAO,GACPnG,OAAQ,GACRkC,QAAS,GACT+G,KAAM,GACNC,UAAW,SAGf7B,UAAWC,EAAM9F,cAAcK,YAAY0F,SAAA,CAC5C,cACamB,EAAY,OAExB,IACL,EAzBA,KA0BK,E,aC7HZ,QA/HA,SAAoB5E,GAAe,IAADqF,EAAAC,EAAA,IAAb,QAAEC,GAASvF,EAC9B,MAAMwF,GAAWC,EAAAA,EAAAA,OAEVC,EAAeC,IAAoBhH,EAAAA,EAAAA,UAAS4G,EAAQrJ,OAAO,KAC3D0J,EAAWC,IAAgBlH,EAAAA,EAAAA,WAAS,IACpCmH,EAAWC,IAAgBpH,EAAAA,EAAAA,WAAS,GAOrCqH,EAAiBT,EAAQU,OAAOrG,QAAOsG,GAAOA,EAAI5K,QAAUoK,IAC5DS,EAAoBZ,EAAQa,UAAUC,MACzCC,GAAQA,EAAIhL,QAAUoK,GAAiB,CAAC,IAErCa,EAAkBA,IACfJ,EAAkBK,oBACrBL,EAAkBM,WAClBN,EAAkBO,WAGlBC,EAAgBrL,IAAW,IAADsL,EAC9B,QAAyB,QAAlBA,EAACrB,EAAQa,iBAAS,IAAAQ,GAAjBA,EAAmBP,MAAMC,GAAQA,EAAIhL,QAAUA,GAAUgL,EAAIO,MAAMP,EAAIQ,KAAQ,IAAE,EAY3F,OATA/H,EAAAA,EAAAA,YAAU,KACRwG,EAAQU,OAAOc,SAAQb,IACrB,MAAMc,EAAe,IAAIC,MACzBD,EAAaE,IAAMhB,EAAIiB,UACvBH,EAAapI,QAAU,QACvBoI,EAAaI,OAAS,IAAMrB,GAAa,EAAM,GAC/C,GACD,CAACR,EAAQU,UAGV3C,EAAAA,EAAAA,MAAA,OACEC,UAAW,GAAGC,EAAMvI,YAAYC,QAC9B0K,EAAYpC,EAAMvI,YAAYU,YAAc,KAE9C0L,aAAcA,IAAMxB,GAAa,GACjCyB,aAAcA,IAAMzB,GAAa,GAAOpC,SAAA,EAExCH,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUE,SAAA,CACxBqC,IAAapC,EAAAA,EAAAA,KAAA,OAAKH,UAAW,GAAGC,EAAMvI,YAAYG,aAChD4K,EAAetD,OAAS,GACvBgB,EAAAA,EAAAA,KAAA,OAEEwD,IAAsB,QAAnB5B,EAAEU,EAAe,UAAE,IAAAV,OAAA,EAAjBA,EAAmB6B,UACxBI,IAAK,GAAGhC,EAAQhK,UAAUmK,IAC1BnC,UAAW,GAAGC,EAAMvI,YAAYE,SAAS2K,EAAY,YAAc,gBACnElH,QAAQ,OACR4I,OAAQA,IAAMzB,GAAa,IALL,QAKYV,EAL7BW,EAAe,UAAE,IAAAX,OAAA,EAAjBA,EAAmB8B,YAQ1BzD,EAAAA,EAAAA,KAAA,OAAKH,UAAW,GAAGC,EAAMvI,YAAYY,UAAU4H,SAAC,uBAIjDkD,EAAajB,KACZhC,EAAAA,EAAAA,KAAA,OAAKH,UAAW,GAAGC,EAAMvI,YAAYW,oBACrC,aAAW,eAAc6H,SACxB,qBAKLH,EAAAA,EAAAA,MAAA,OACEC,UAAW,GAAGC,EAAMvI,YAAYI,UAChCsI,QAASA,IAAM6B,EAAS,YAAYD,EAAQkC,cAC5CC,SAAU,EACV,aAAY,oBAAoBnC,EAAQhK,OAAOkI,SAAA,EAE/CC,EAAAA,EAAAA,KAAA,OAAKH,UAAW,GAAGC,EAAMvI,YAAYK,QAAQmI,SAAEiC,KAC/ChC,EAAAA,EAAAA,KAAA,MAAIH,UAAW,GAAGC,EAAMvI,YAAYM,OAAOkI,SAAE8B,EAAQhK,QAErDmI,EAAAA,EAAAA,KAAA,OAAKH,UAAU,oBAAmBE,SAC/B0C,EAAkBK,qBACjBlD,EAAAA,EAAAA,MAAAqE,EAAAA,SAAA,CAAAlE,SAAA,EACEH,EAAAA,EAAAA,MAAA,QAAMC,UAAW,GAAGC,EAAMvI,YAAYO,0BACtC,aAAY,kBAAkB2K,EAAkBO,qBAAqBjD,SAAA,CACpE,IACG0C,EAAkBO,eAEtBpD,EAAAA,EAAAA,MAAA,QACEC,UAAW,GAAGC,EAAMvI,YAAYO,SAASgI,EAAMvI,YAAYa,gBAC3D,aAAY,oBAAoByK,cAA4B9C,SAAA,CAC7D,IACG8C,WAINjD,EAAAA,EAAAA,MAAA,QAAMC,UAAW,GAAGC,EAAMvI,YAAYO,aACtC,aAAY,SAAS2K,EAAkBO,qBAAqBjD,SAAA,CAC3D,IACG0C,EAAkBO,iBAK1BhD,EAAAA,EAAAA,KAAA,OAAKH,UAAW,GAAGC,EAAMvI,YAAYS,eAAe+H,SACjD8B,EAAQrJ,OAAO6D,KAAI,CAACzE,EAAOuI,KAC1BH,EAAAA,EAAAA,KAAA,UAEEY,MAAO,CAAEC,gBAAiBjJ,GAC1BqI,QAAUiE,GAlGIC,EAACD,EAAOtM,KAChCsM,EAAME,kBACNnC,EAAiBrK,EAAM,EAgGOuM,CAAkBD,EAAOtM,GAC7CyM,KAAK,WACL,eAAczM,IAAUoK,EACxBnC,UAAW,GAAGC,EAAMvI,YAAYc,eAC9B4K,EAAarL,GACTkI,EAAMvI,YAAYe,sBAClB,MAEJV,IAAUoK,EACNlC,EAAMvI,YAAYgB,oBAClB,uBAZDX,GAASuI,YAqB5B,E,aC9HA,MA8BA,EA9BoB7D,IAA8C,IAA7C,SAAEU,EAAQ,UAAE6C,EAAY,GAAE,UAAEuC,GAAW9F,EAC1D,OACE0D,EAAAA,EAAAA,KAAA,OAAKH,UAAW,GAAGC,EAAMjG,YAAY3C,aAAa2I,IAAYE,SAC3DqC,EACGrG,MAAMC,KAAK,CAAEgD,OAAQ,KAAM3C,KAAI,CAAC0E,EAAGZ,KACjCP,EAAAA,EAAAA,MAAA,OAAiBC,UAAWC,EAAMjG,YAAYrC,KAAKuI,SAAA,EAEjDC,EAAAA,EAAAA,KAAA,OAAKH,UAAWC,EAAMjG,YAAYC,aAAaiG,UAC7CC,EAAAA,EAAAA,KAACsE,EAAAA,EAAQ,CACPC,QAAQ,cACRC,MAAM,OACNC,OAAO,OACPC,GAAI,CAAErL,aAAc,YAKxBuG,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAMjG,YAAYlC,QAAQoI,SAAA,EACxCC,EAAAA,EAAAA,KAACsE,EAAAA,EAAQ,CAACE,MAAM,MAAMC,OAAQ,MAC9BzE,EAAAA,EAAAA,KAACsE,EAAAA,EAAQ,CAACE,MAAM,MAAMC,OAAQ,UAdxBtE,KAkBZnD,EAASX,KAAI,CAACwF,EAAS1B,KACrBH,EAAAA,EAAAA,KAAC2E,EAAW,CAAwC9C,QAASA,GAA3C,GAAGA,EAAQkC,cAAc5D,QAE7C,E,aCtBV,MA2RA,EAzRuByE,KACrB,MAAOtG,EAASC,IAActD,EAAAA,EAAAA,UAAS,CACrCmB,WAAY,GACZ0C,SAAU,GACVH,MAAO,GACPnG,OAAQ,GACRkC,QAAS,GACT+G,KAAM,GACNC,UAAW,UAGP,YAAE3G,GAAgBD,KAClB,SAAEkC,EAAQ,QAAE9B,EAAO,MAAErC,GAAUkE,KAE9ByB,EAAeC,IAAoBxD,EAAAA,EAAAA,WAAS,IAC5CmC,EAAMyH,IAAW5J,EAAAA,EAAAA,UAAS,IAEjCI,EAAAA,EAAAA,YAAU,KACR,MAAMyJ,EAAKC,OAAOC,WAAW,uBAEvBC,EAAgBpH,IACfA,EAAEqH,SAASzG,GAAiB,EAAM,EAIzC,OADAqG,EAAGK,iBAAiB,SAAUF,GACvB,IAAMH,EAAGM,oBAAoB,SAAUH,EAAa,GAC1D,KAEH5J,EAAAA,EAAAA,YAAU,KACRwJ,EAAQ,EAAE,GACT,CAACvG,IAEJ,MAAMS,GAAkBsG,EAAAA,EAAAA,UAAQ,KAC9B,MAAMhJ,EAAM,IAAIJ,IAYhB,OAXAe,EAASqG,SAASlH,IAChB,MAAMmJ,EAAMnJ,EAAE2C,SACP,OAAHwG,QAAG,IAAHA,GAAAA,EAAKC,cACFlJ,EAAImJ,IAAIF,EAAIC,cACflJ,EAAIoJ,IAAIH,EAAIC,YAAa,CACvBtH,GAAIqH,EAAIC,YACRrH,MAAOoH,EAAIzN,OAGjB,IAEKkE,MAAMC,KAAKK,EAAIK,SAAS,GAC9B,CAACM,IAEEiC,GAAcoG,EAAAA,EAAAA,UAAQ,KAC1B,MAAMI,EAAM,IAAIC,IAShB,OARA1I,EAASqG,SAASlH,KACfA,EAAEwC,OAAS,IAAI0E,SAASsC,GAAMF,EAAIG,IAAI9H,OAAO6H,GAAGE,kBAChD1J,EAAEuG,WAAa,IACbrG,KAAKuG,GAAQA,EAAIkD,OACjB5J,QAAQyJ,GAAW,MAALA,IACdtC,SAASsC,GAAMF,EAAIG,IAAI9H,OAAO6H,GAAGE,gBAAe,IAG9C9J,MAAMC,KAAKyJ,GAAKpJ,KAAK+B,IAAI,CAC9BA,OACAF,MAAOE,EAAK2H,iBACX,GACF,CAAC/I,IAEEhF,GAAeqN,EAAAA,EAAAA,UAAQ,KAC3B,MAAMI,EAAM,IAAIC,IAIhB,OAHA1I,EAASqG,SAASlH,KACfA,EAAE3D,QAAU,IAAI6K,SAAS5G,GAAMgJ,EAAIG,IAAInJ,IAAG,IAEtCV,MAAMC,KAAKyJ,EAAI,GACrB,CAACzI,IAEEgJ,GAAmBX,EAAAA,EAAAA,UAAQ,KAC/B,IAAKrI,GAAgC,IAApBA,EAASgC,OAAc,MAAO,GAE/C,MAAMiH,GAAuB3H,EAAQlC,YAAc,IAAIF,QAAQ+B,GAAc,WAAPA,IAEtE,MAAO,IAAIjB,GACRd,QAAQC,IAAO,IAAD+J,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EACb,MAAMC,EAAiC,QAA9BR,EAAe,QAAfC,EAAGhK,EAAEC,kBAAU,IAAA+J,OAAA,EAAZA,EAActL,qBAAa,IAAAqL,EAAAA,EAAI,KAGrCS,EAC2B,IAA/BV,EAAoBjH,QAAgBiH,EAAoBxG,SAASiH,GAG7DE,EAAW,IACiC,QAAhDR,EAAW,QAAXC,EAAIlK,EAAEwC,aAAK,IAAA0H,OAAA,EAAPA,EAAShK,KAAKsJ,GAAM7H,OAAO6H,GAAGE,uBAAc,IAAAO,EAAAA,EAAI,MAId,QAHtCE,EAAe,QAAfC,EAAIpK,EAAEuG,iBAAS,IAAA6D,OAAA,EAAXA,EACAlK,KAAKuG,GAAQA,EAAIkD,OAClB5J,OAAO2K,SACPxK,KAAKsJ,GAAM7H,OAAO6H,GAAGE,uBAAc,IAAAS,EAAAA,EAAI,IAEtCQ,EACqB,IAAzBxI,EAAQK,MAAMK,QAAgB4H,EAASG,MAAMpB,GAAMrH,EAAQK,MAAMc,SAASkG,KAGtEqB,EAAoB,QAAXR,EAAGrK,EAAE3D,cAAM,IAAAgO,EAAAA,EAAI,GACxBS,EACsB,IAA1B3I,EAAQ9F,OAAOwG,QAAgBgI,EAAUD,MAAMtK,GAAM6B,EAAQ9F,OAAOiH,SAAShD,KAGzEyK,EACuB,IAA3B5I,EAAQ5D,QAAQsE,QAChBV,EAAQ5D,QAAQqM,MAAMjG,GAAM3E,EAAEgL,QAAUrG,GAAK3E,EAAEgL,OAASrG,EAAI,IAGxDsG,EACwB,IAA5B9I,EAAQQ,SAASE,QAAgBV,EAAQQ,SAASW,SAAmB,QAAXgH,EAACtK,EAAE2C,gBAAQ,IAAA2H,OAAA,EAAVA,EAAYlB,aAGzE,OAAOoB,GAAmBG,GAAcG,GAAeC,GAAgBE,CAAa,IAErF3F,MAAK,CAAC4F,EAAGC,KAAO,IAADC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EACd,MAAMC,EAAU7J,EAAQmD,MAAQ,UAC1B2G,EAAM9J,EAAQoD,WAAa,OAEjC,IAAI2G,EACAC,EAEJ,OAAQH,GACN,IAAK,UACHE,EAAe,QAATd,EAAGF,EAAEjE,YAAI,IAAAmE,EAAAA,EAAI,EACnBe,EAAe,QAATd,EAAGF,EAAElE,YAAI,IAAAoE,EAAAA,EAAI,EACnB,MACF,IAAK,SACHa,EAAiB,QAAXZ,EAAGJ,EAAEF,cAAM,IAAAM,EAAAA,EAAI,EACrBa,EAAiB,QAAXZ,EAAGJ,EAAEH,cAAM,IAAAO,EAAAA,EAAI,EACrB,MACF,IAAK,QACHW,EAAiB,QAARD,EAAqC,QAAxBT,EAAgB,QAAhBC,EAAIP,EAAEkB,kBAAU,IAAAX,OAAA,EAAZA,EAAcY,cAAM,IAAAb,EAAAA,EAAI,EAA2B,QAA1BE,EAAiB,QAAjBC,EAAKT,EAAEkB,kBAAU,IAAAT,OAAA,EAAZA,EAAcW,eAAO,IAAAZ,EAAAA,EAAI,EACjFS,EAAiB,QAARF,EAAqC,QAAxBL,EAAgB,QAAhBC,EAAIV,EAAEiB,kBAAU,IAAAP,OAAA,EAAZA,EAAcQ,cAAM,IAAAT,EAAAA,EAAI,EAA2B,QAA1BE,EAAiB,QAAjBC,EAAKZ,EAAEiB,kBAAU,IAAAL,OAAA,EAAZA,EAAcO,eAAO,IAAAR,EAAAA,EAAI,EACjF,MAEF,QACEI,EAAS,IAAIK,KAAKrB,EAAEsB,YAAYC,UAChCN,EAAS,IAAII,KAAKpB,EAAEqB,YAAYC,UAIpC,MAAe,QAARR,EAAgBC,EAASC,EAASA,EAASD,CAAM,GACxD,GACH,CAACrL,EAAUsB,IAERuK,EAAaC,KAAKC,IAAI,EAAGD,KAAKE,KAAKhD,EAAiBhH,OAlJ5C,IAmJRiK,GAAgB5D,EAAAA,EAAAA,UAAQ,KAC5B,MAAM6D,EApJM,GAoJG9L,EAAO,GACtB,OAAO4I,EAAiBmD,MAAMD,EAAOA,EArJzB,EAqJyC,GACpD,CAAClD,EAAkB5I,IAoChBgM,EAAYvQ,GAAQmH,EAAAA,EAAAA,KAAA,KAAGH,UAAU,oBAAmBE,SAAElH,IAAa,KAEzE,OACE+G,EAAAA,EAAAA,MAAA,OAAKC,UAAU,gBAAeE,SAAA,EAC5BH,EAAAA,EAAAA,MAAA,UACEC,UAAW,GAAGC,EAAM9F,cAAcO,0BAA0BiE,EAAgB,SAAW,KACvFyB,QAASA,IAAMxB,GAAiB,GAAMsB,SAAA,EAEtCC,EAAAA,EAAAA,KAACqJ,EAAAA,IAAQ,CAACxJ,UAAWC,EAAM9F,cAAcQ,cACzCwF,EAAAA,EAAAA,KAAA,QAAMH,UAAWC,EAAM9F,cAAcS,WAAWsF,SAAC,eAInDC,EAAAA,EAAAA,KAACsJ,EAAa,CACZhL,QAASA,EACTC,WAAYA,EACZC,cAAeA,EACfC,iBAAkBA,EAClB1D,YAAaA,EACb2D,WAAYK,EACZJ,MAAOM,EACPzG,OAAQR,IAGTwG,IACCwB,EAAAA,EAAAA,KAAA,OACEH,UAAU,8CACVI,QAASA,IAAMxB,GAAiB,MAKpCmB,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAM7I,eAAeC,UAAU6I,SAAA,EAE7CH,EAAAA,EAAAA,MAAA,OAAKC,UAAW,GAAGC,EAAMhJ,OAAOC,UAAU+I,EAAM7I,eAAeF,SAASgJ,SAAA,EACtEC,EAAAA,EAAAA,KAAA,YAEAJ,EAAAA,EAAAA,MAAA,UACEL,MACmB,UAAjBjB,EAAQmD,KACkB,QAAtBnD,EAAQoD,UACN,YACA,aACFpD,EAAQmD,KAEdjB,SA/EgB3C,IAExB,OADcA,EAAE0L,OAAOhK,OAErB,IAAK,YACHhB,GAAYa,IAAI,IAAWA,EAAMqC,KAAM,QAASC,UAAW,UAC3D,MACF,IAAK,aACHnD,GAAYa,IAAI,IAAWA,EAAMqC,KAAM,QAASC,UAAW,WAC3D,MACF,IAAK,UACHnD,GAAYa,IAAI,IACXA,EACHqC,KAAM,UACNC,UAAW,WAEb,MACF,IAAK,SACHnD,GAAYa,IAAI,IACXA,EACHqC,KAAM,SACNC,UAAW,WAEb,MAEF,QACEnD,GAAYa,IAAI,IACXA,EACHqC,KAAM,UACNC,UAAW,WAGjB,EAiDQ7B,UAAWC,EAAM7I,eAAeG,WAChC,aAAW,gBAAe2I,SAAA,EAE1BC,EAAAA,EAAAA,KAAA,UAAQT,MAAM,GAAGiK,UAAQ,EAAAzJ,SAAC,aAG1BC,EAAAA,EAAAA,KAAA,UAAQT,MAAM,UAASQ,SAAC,YACxBC,EAAAA,EAAAA,KAAA,UAAQT,MAAM,UAASQ,SAAC,kBACxBC,EAAAA,EAAAA,KAAA,UAAQT,MAAM,SAAQQ,SAAC,iBACvBC,EAAAA,EAAAA,KAAA,UAAQT,MAAM,YAAWQ,SAAC,wBAC1BC,EAAAA,EAAAA,KAAA,UAAQT,MAAM,aAAYQ,SAAC,6BAI9BqJ,GAEDpJ,EAAAA,EAAAA,KAACyJ,EAAW,CACVzM,SAAUiM,EACVpJ,UAAW,GAAGC,EAAMjG,YAAY3C,aAAasH,EAAgB,WAAa,SAC1E4D,UAAWlH,IAIZ8K,EAAiBhH,OAAS,IACzBY,EAAAA,EAAAA,MAAA,OAAKC,UAAU,8CAA6CE,SAAA,EAC1DC,EAAAA,EAAAA,KAAA,UACEwJ,SAAmB,IAATpM,EACV6C,QAASA,IAAM4E,GAAS1I,GAAM2M,KAAKC,IAAI,EAAG5M,EAAI,KAC9C0D,UAAU,+CAA8CE,SACzD,UAIDH,EAAAA,EAAAA,MAAA,QAAAG,SAAA,CAAM,QACE3C,EAAK,OAAKyL,MAGlB7I,EAAAA,EAAAA,KAAA,UACEwJ,SAAUpM,IAASyL,EACnB5I,QAASA,IAAM4E,GAAS1I,GAAM2M,KAAKY,IAAIb,EAAY1M,EAAI,KACvD0D,UAAU,+CAA8CE,SACzD,iBAMH,C","sources":["assets/styles/theme.js","components/filters/filterOptions.jsx","components/hooks/useFetchCollections.jsx","components/hooks/useFetchProducts.jsx","components/filters/FilterSidebar.jsx","components/product/ProductCard.jsx","components/product/ProductGrid.jsx","pages/ProductListing.jsx"],"sourcesContent":["const theme = {\r\n  /* -------------------------------------------------------------\r\n   * Shared\r\n   * ------------------------------------------------------------- */\r\n  shared: {\r\n    header: 'flex justify-between items-center w-full mb-6',\r\n    title: 'font-semibold text-xl text-neutral-900',\r\n  },\r\n\r\n  /* -------------------------------------------------------------\r\n   * Product Listing\r\n   * ------------------------------------------------------------- */\r\n  productListing: {\r\n    container: 'flex-1 px-4 md:px-8 lg:px-8 xl:px-8 w-full max-w-[1280px] mx-auto box-border',\r\n    header: 'flex justify-between items-center mb-6 w-full',\r\n    title: 'text-lg font-semibold text-neutral-900',\r\n    grid: 'grid gap-6 sm:gap-8 md:gap-10 lg:gap-12 grid-cols-2 sm:grid-cols-3 xl:grid-cols-4 w-full',\r\n    sortSelect:\r\n      'border border-gray-300 rounded px-3 py-2 text-sm bg-white hover:bg-gray-50 ' +\r\n      'cursor-pointer w-28 md:w-32 font-semibold text-gray-900',\r\n    sortSelectPlaceholder: 'text-gray-400',\r\n    sortSelectValue: 'text-gray-900',\r\n  },\r\n\r\n  /* -------------------------------------------------------------\r\n   * Product Card\r\n   * ------------------------------------------------------------- */\r\n  productCard: {\r\n    card: 'flex flex-col w-full rounded-lg overflow-hidden shadow-sm border border-neutral-200 hover:shadow-md transition-all duration-200 bg-white',\r\n    image: 'w-full h-[300px] object-cover rounded-t-lg bg-gray-100 transition-opacity duration-300',\r\n    skeleton: 'absolute top-0 left-0 w-full h-[300px] bg-gray-200 animate-pulse rounded-lg',\r\n    details: 'flex flex-col gap-3 p-4',\r\n    color: 'font-normal text-xs text-neutral-600',\r\n    name: 'font-medium text-lg text-neutral-900 truncate',\r\n    price: 'font-normal text-lg text-neutral-500',\r\n    discount: 'font-normal text-xs line-through text-neutral-600',\r\n    colorOptions: 'flex justify-start items-center gap-2 p-1 rounded',\r\n    hoverShadow: 'shadow-lg',\r\n    outOfStockOverlay:\r\n      'absolute top-0 left-0 w-full h-full bg-gray-400 opacity-50 flex justify-center items-center text-white font-bold',\r\n    noImage:\r\n      'w-full h-[300px] bg-gray-200 flex items-center justify-center text-gray-500 rounded-lg',\r\n    priceDiscount: 'text-red-500 ml-2 px-2',\r\n    colorButton: 'w-6 h-6 rounded-full cursor-pointer',\r\n    colorButtonOutOfStock: 'opacity-50 cursor-not-allowed',\r\n    colorButtonSelected: 'border-2 border-black',\r\n  },\r\n\r\n  /* -------------------------------------------------------------\r\n   * Color Palette\r\n   * ------------------------------------------------------------- */\r\n  colors: {\r\n    primary: '#1E40AF',\r\n    secondary: '#9333EA',\r\n    neutral: {\r\n      100: '#F5F5F5',\r\n      200: '#E5E5E5',\r\n      500: '#888888',\r\n      900: '#333333',\r\n    },\r\n    success: '#28A745',\r\n    error: '#DC3545',\r\n  },\r\n\r\n  /* -------------------------------------------------------------\r\n   * Spacing / Font / Radius\r\n   * ------------------------------------------------------------- */\r\n  spacing: {\r\n    sm: '8px',\r\n    md: '16px',\r\n    lg: '32px',\r\n    xl: '64px',\r\n  },\r\n  fontSize: {\r\n    base: '16px',\r\n    lg: '20px',\r\n    xl: '24px',\r\n  },\r\n  borderRadius: {\r\n    none: '0px',\r\n    sm: '4px',\r\n    md: '8px',\r\n    lg: '16px',\r\n  },\r\n\r\n  /* -------------------------------------------------------------\r\n   * Screens / Breakpoints\r\n   * ------------------------------------------------------------- */\r\n  extend: {\r\n    screens: {\r\n      xs: '480px',\r\n      sm: '640px',\r\n      md: '768px',\r\n      lg: '1025px',\r\n      xl: '1440px',\r\n    },\r\n  },\r\n\r\n  /* -------------------------------------------------------------\r\n   * Layout Grid\r\n   * ------------------------------------------------------------- */\r\n  layout: {\r\n    container:\r\n      'box-border w-full px-4 grid grid-cols-4 gap-4 ' +\r\n      'md:px-8 md:grid-cols-6 md:gap-8 ' +\r\n      'xl:max-w-[1280px] xl:mx-auto xl:px-8 xl:grid-cols-12 xl:gap-8',\r\n    filterSection: 'xl:col-span-3 md:hidden xl:block border-r border-neutral-200',\r\n    productSection: 'col-span-4 md:col-span-6 xl:col-span-9 flex flex-col',\r\n  },\r\n\r\n  /* -------------------------------------------------------------\r\n   * Product Grid\r\n   * ------------------------------------------------------------- */\r\n  productGrid: {\r\n    container:\r\n      'grid gap-4 md:gap-8 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 w-full transition-all duration-300 ease-in-out',\r\n    card: 'bg-white rounded-lg overflow-hidden shadow-sm border border-neutral-200 hover:shadow-md transition-all duration-200',\r\n    imageWrapper: 'w-full aspect-square overflow-hidden bg-neutral-100',\r\n    image: 'w-full h-full object-cover',\r\n    details: 'p-3 flex flex-col gap-1',\r\n    colorDot: 'w-3 h-3 rounded-full inline-block border',\r\n    title: 'text-sm font-medium text-gray-800 truncate',\r\n    price: 'text-sm text-gray-600',\r\n  },\r\n\r\n  /* -------------------------------------------------------------\r\n   * Filter Sidebar (RWD)\r\n   * ------------------------------------------------------------- */\r\n  filterSidebar: {\r\n    container: 'w-64 p-4 border-r border-neutral-200 h-screen sticky top-0 bg-transparent',\r\n    open: 'transition-transform duration-300 ease-in-out translate-x-0',\r\n    close: 'transition-transform duration-300 ease-in-out -translate-x-full lg:translate-x-0',\r\n    header: 'text-lg font-semibold mb-4 flex justify-between items-center text-neutral-900',\r\n    sectionButton: 'flex justify-between w-full text-left font-medium py-2',\r\n    sectionContent: 'pl-4',\r\n    clearButton: 'mt-4 text-sm text-red-500 underline hover:text-red-600 transition-colors',\r\n    closeButton: 'p-1 rounded-md hover:bg-gray-100',\r\n    filterButton:\r\n      'fixed top-4 left-4 z-50 flex items-center gap-2 ' +\r\n      'bg-white border border-gray-300 rounded-md px-3 py-2 ' +\r\n      'shadow-sm text-gray-900 text-sm font-medium hover:bg-gray-50 md:hidden',\r\n  },\r\n  filterIcon: 'w-4 h-4 text-gray-900',\r\n  filterText: 'text-gray-900 text-sm font-medium',\r\n};\r\n\r\nexport default theme;\r\n","export const ratings = [5, 4, 3, 2, 1];\r\n\r\nexport const FILTER_KEYS = {\r\n  COLLECTIONS: 'collection',\r\n  CATEGORY: 'category',\r\n  SIZES: 'sizes',\r\n  COLORS: 'colors',\r\n  RATINGS: 'ratings',\r\n};\r\n\r\n// Collections\r\nexport const DEFAULT_COLLECTIONS = [\r\n  { collection_id: 'latest', name: 'Latest Arrivals' },\r\n  { collection_id: 'cozy', name: 'Cozy Comfort' },\r\n  { collection_id: 'urban', name: 'Urban Oasis' },\r\n  { collection_id: 'fresh', name: 'Fresh Fusion' },\r\n];\r\n","import { useState, useEffect } from 'react';\r\nimport { DEFAULT_COLLECTIONS } from '../filters/filterOptions';\r\n\r\nconst useFetchCollections = () => {\r\n  const [collections, setCollections] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    let isMounted = true;\r\n\r\n    fetch('https://www.greatfrontend.com/api/projects/challenges/e-commerce/products')\r\n      .then((res) => {\r\n        if (!res.ok) throw new Error('Failed to fetch collections');\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        if (isMounted && data?.data) {\r\n          const apiCollections = Array.from(\r\n            new Map(\r\n              data.data\r\n                .filter((p) => p.collection)\r\n                .map((p) => [p.collection.collection_id, p.collection.name])\r\n            )\r\n          ).map(([collection_id, name]) => ({ collection_id, name }));\r\n\r\n          const merged = [...DEFAULT_COLLECTIONS, ...apiCollections];\r\n          const deduped = Array.from(new Map(merged.map((c) => [c.collection_id, c])).values());\r\n\r\n          setCollections(deduped);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        if (isMounted) setError(err.message);\r\n      })\r\n      .finally(() => {\r\n        if (isMounted) setLoading(false);\r\n      });\r\n\r\n    return () => {\r\n      isMounted = false;\r\n    };\r\n  }, []);\r\n\r\n  return { collections, loading, error };\r\n};\r\n\r\nexport default useFetchCollections;\r\n","import { useState, useEffect } from 'react';\r\n\r\nconst API_URL = 'https://www.greatfrontend.com/api/projects/challenges/e-commerce/products';\r\n\r\nconst useFetchProducts = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const ac = new AbortController();\r\n\r\n    (async () => {\r\n      try {\r\n        setLoading(true);\r\n        setError(null);\r\n\r\n        let page = 1;\r\n        const perPage = 9;\r\n        let all = [];\r\n\r\n        while (true) {\r\n          const res = await fetch(`${API_URL}?page=${page}&per_page=${perPage}`, {\r\n            signal: ac.signal,\r\n          });\r\n          if (!res.ok) throw new Error('Failed to fetch products');\r\n\r\n          const json = await res.json();\r\n          const data = Array.isArray(json?.data) ? json.data : [];\r\n          all = all.concat(data);\r\n\r\n          const pag = json.pagination;\r\n          if (!pag || !pag.has_more) break;\r\n          page += 1;\r\n        }\r\n\r\n        setProducts(all);\r\n      } catch (e) {\r\n        if (e.name !== 'AbortError') {\r\n          setError(e.message || String(e));\r\n        }\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    })();\r\n\r\n    return () => ac.abort();\r\n  }, []);\r\n\r\n  return { products, loading, error };\r\n};\r\n\r\nexport default useFetchProducts;\r\n","'use client';\r\nimport { useState } from 'react';\r\nimport theme from '../../assets/styles/theme';\r\nimport { ratings, FILTER_KEYS } from '../filters/filterOptions';\r\nimport { FaStar } from 'react-icons/fa';\r\n\r\nconst fallbackCategories = [\r\n  { id: 'unisex', label: 'Unisex' },\r\n  { id: 'women', label: 'Women' },\r\n  { id: 'men', label: 'Men' },\r\n];\r\n\r\nconst fallbackSizes = [\r\n  { code: 'xs', label: 'XS' },\r\n  { code: 's', label: 'S' },\r\n  { code: 'm', label: 'M' },\r\n  { code: 'l', label: 'L' },\r\n  { code: 'xl', label: 'XL' },\r\n];\r\n\r\nconst fallbackColors = [\r\n  'white',\r\n  'black',\r\n  'red',\r\n  'orange',\r\n  'yellow',\r\n  'green',\r\n  'blue',\r\n  'brown',\r\n  'beige',\r\n  'pink',\r\n];\r\n\r\nconst FilterSidebar = ({\r\n  filters,\r\n  setFilters,\r\n  isSidebarOpen,\r\n  setIsSidebarOpen,\r\n  collections = [],\r\n  categories = [],\r\n  sizes = [],\r\n  colors = [],\r\n}) => {\r\n  const [openSection, setOpenSection] = useState({\r\n    collection: false,\r\n    sizes: false,\r\n    category: false,\r\n    colors: false,\r\n    ratings: false,\r\n  });\r\n\r\n  const categoryOptions = categories && categories.length ? categories : fallbackCategories;\r\n  const sizeOptions = sizes && sizes.length ? sizes : fallbackSizes;\r\n  const colorOptions = colors && colors.length ? colors : fallbackColors;\r\n\r\n  const toggleSection = (key) => setOpenSection((prev) => ({ ...prev, [key]: !prev[key] }));\r\n\r\n  const handleCheckboxChange = (filterType, value) => {\r\n    setFilters((prev) => {\r\n      let updatedValues = [...prev[filterType]];\r\n\r\n      if (updatedValues.includes(value)) {\r\n        updatedValues = updatedValues.filter((v) => v !== value);\r\n      } else {\r\n        updatedValues.push(value);\r\n      }\r\n\r\n      if (filterType === FILTER_KEYS.COLLECTIONS) {\r\n        if (updatedValues.length === 0) {\r\n          updatedValues = ['latest'];\r\n        }\r\n      }\r\n\r\n      return {\r\n        ...prev,\r\n        [filterType]: updatedValues,\r\n      };\r\n    });\r\n  };\r\n\r\n  return (\r\n    <aside\r\n      className={`${theme.filterSidebar.container} ${isSidebarOpen ? 'block' : 'hidden'} md:block z-40`}\r\n    >\r\n      {/* Header */}\r\n      <div className={theme.filterSidebar.header}>\r\n        <button\r\n          className={theme.filterSidebar.closeButton}\r\n          onClick={() => setIsSidebarOpen(false)}\r\n        ></button>\r\n      </div>\r\n\r\n      {/* Collections */}\r\n      <div className=\"border-b border-gray-200 pb-4 mb-4\">\r\n        <button\r\n          onClick={() => toggleSection('collection')}\r\n          className={theme.filterSidebar.sectionButton}\r\n        >\r\n          <span>Collections</span>\r\n          <span>{openSection.collection ? '−' : '+'}</span>\r\n        </button>\r\n        {openSection.collection && (\r\n          <div className={theme.filterSidebar.sectionContent}>\r\n            {collections?.map(({ name, collection_id }, index) => (\r\n              <label\r\n                key={`${collection_id}-${index}`}\r\n                className=\"flex items-center space-x-2 py-1 cursor-pointer\"\r\n              >\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={filters[FILTER_KEYS.COLLECTIONS]?.includes(collection_id) ?? false}\r\n                  onChange={() => handleCheckboxChange(FILTER_KEYS.COLLECTIONS, collection_id)}\r\n                />\r\n                <span>{name}</span>\r\n              </label>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Sizes */}\r\n      <div className=\"border-b border-gray-200 pb-4 mb-4\">\r\n        <button\r\n          onClick={() => toggleSection('sizes')}\r\n          className={theme.filterSidebar.sectionButton}\r\n        >\r\n          <span>Sizes</span>\r\n          <span>{openSection.sizes ? '−' : '+'}</span>\r\n        </button>\r\n        {openSection.sizes && (\r\n          <div className={theme.filterSidebar.sectionContent}>\r\n            {sizeOptions.map(({ code, label }) => (\r\n              <label key={code} className=\"flex items-center space-x-2 py-1\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={filters[FILTER_KEYS.SIZES].includes(code) ?? false}\r\n                  onChange={() => handleCheckboxChange('sizes', code)}\r\n                />\r\n                <span>{label}</span>\r\n              </label>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Category */}\r\n      <div className=\"border-b border-gray-200 pb-4 mb-4\">\r\n        <button\r\n          onClick={() => toggleSection('category')}\r\n          className={theme.filterSidebar.sectionButton}\r\n        >\r\n          <span>Category</span>\r\n          <span>{openSection.category ? '−' : '+'}</span>\r\n        </button>\r\n        {openSection.category && (\r\n          <div className={theme.filterSidebar.sectionContent}>\r\n            {categoryOptions.map(({ id, label }) => (\r\n              <label key={id} className=\"flex items-center space-x-2 py-1\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={filters[FILTER_KEYS.CATEGORY].includes(id)}\r\n                  onChange={() => handleCheckboxChange('category', id)}\r\n                />\r\n                <span>{label}</span>\r\n              </label>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Colors */}\r\n      <div className=\"border-b border-gray-200 pb-4 mb-4\">\r\n        <button\r\n          onClick={() => toggleSection('colors')}\r\n          className={theme.filterSidebar.sectionButton}\r\n        >\r\n          <span>Colors</span>\r\n          <span>{openSection.colors ? '−' : '+'}</span>\r\n        </button>\r\n        {openSection.colors && (\r\n          <div className=\"flex flex-wrap gap-3 mt-2\">\r\n            {colorOptions.map((color) => (\r\n              <button\r\n                key={color}\r\n                onClick={() => handleCheckboxChange('colors', color)}\r\n                className={`w-6 h-6 rounded-full border ${\r\n                  filters[FILTER_KEYS.COLORS].includes(color)\r\n                    ? 'border-black scale-110'\r\n                    : 'border-gray-300'\r\n                }`}\r\n                style={{ backgroundColor: color }}\r\n                title={color}\r\n              />\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Ratings */}\r\n      <div className=\"border-b border-gray-200 pb-4 mb-4\">\r\n        <button\r\n          onClick={() => toggleSection('ratings')}\r\n          className={theme.filterSidebar.sectionButton}\r\n        >\r\n          <span>Ratings</span>\r\n          <span>{openSection.ratings ? '−' : '+'}</span>\r\n        </button>\r\n\r\n        {openSection.ratings && (\r\n          <div className={theme.filterSidebar.sectionContent}>\r\n            {ratings.map((r) => (\r\n              <label key={r} className=\"flex items-center gap-2 py-1 cursor-pointer\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={filters.ratings.includes(r)}\r\n                  onChange={() => handleCheckboxChange('ratings', r)}\r\n                />\r\n                <span className=\"flex items-center\">\r\n                  {Array.from({ length: r }).map((_, i) => (\r\n                    <FaStar key={i} className=\"text-yellow-500\" />\r\n                  ))}\r\n                  {Array.from({ length: 5 - r }).map((_, i) => (\r\n                    <FaStar key={`o-${i}`} className=\"text-gray-300\" />\r\n                  ))}\r\n                </span>\r\n              </label>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Clear Filters */}\r\n      {(() => {\r\n        const activeCount = Object.entries(filters).reduce((acc, [k, v]) => {\r\n          if (Array.isArray(v)) return acc + v.length;\r\n          if (k === 'sort' && typeof v === 'string' && v) return acc + 1;\r\n          return acc;\r\n        }, 0);\r\n\r\n        return activeCount > 0 ? (\r\n          <button\r\n            onClick={() =>\r\n              setFilters({\r\n                collection: [],\r\n                category: [],\r\n                sizes: [],\r\n                colors: [],\r\n                ratings: [],\r\n                sort: '',\r\n                direction: 'desc',\r\n              })\r\n            }\r\n            className={theme.filterSidebar.clearButton}\r\n          >\r\n            Clear All ({activeCount})\r\n          </button>\r\n        ) : null;\r\n      })()}\r\n    </aside>\r\n  );\r\n};\r\n\r\nexport default FilterSidebar;\r\n","import React from \"react\";\r\nimport theme from \"../../assets/styles/theme\";\r\nimport { useState, useEffect } from 'react';\r\nimport { useNavigate } from \"react-router-dom\"; \r\n\r\n\r\nfunction ProductCard({ product }) {\r\n  const navigate = useNavigate();\r\n\r\n  const [selectedColor, setSelectedColor] = useState(product.colors[0]);\r\n  const [isHovered, setIsHovered] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const handleColorSelect = (event, color) => {\r\n    event.stopPropagation(); //otherwise, it will trigger the parent onClick event and navigate to the product details page\r\n    setSelectedColor(color);\r\n  };\r\n\r\n  const filteredImages = product.images.filter(img => img.color === selectedColor);\r\n  const selectedInventory = product.inventory.find(\r\n    (inv) => inv.color === selectedColor || {}\r\n  );\r\n  const getCurrentPrice = () => {\r\n    return selectedInventory.discount_percentage\r\n      ? selectedInventory.sale_price\r\n      : selectedInventory.list_price;\r\n  };\r\n\r\n  const isOutOfStock = (color) => {\r\n    return !product.inventory?.find((inv) => inv.color === color && (inv.stock-inv.sold) > 0);\r\n  };\r\n\r\n  useEffect(() => {\r\n    product.images.forEach(img => {\r\n      const preloadedImg = new Image();\r\n      preloadedImg.src = img.image_url;\r\n      preloadedImg.loading = \"eager\";\r\n      preloadedImg.onload = () => setIsLoading(false);\r\n    });\r\n  }, [product.images]); \r\n\r\n  return (\r\n    <div\r\n      className={`${theme.productCard.card} ${\r\n        isHovered ? theme.productCard.hoverShadow : \"\"\r\n      }`}\r\n      onMouseEnter={() => setIsHovered(true)}\r\n      onMouseLeave={() => setIsHovered(false)}\r\n    >\r\n      <div className=\"relative\">\r\n      {isLoading && <div className={`${theme.productCard.skeleton}`} />}\r\n        {filteredImages.length > 0 ? (\r\n          <img\r\n            key={filteredImages[0]?.image_url}\r\n            src={filteredImages[0]?.image_url}\r\n            alt={`${product.name} - ${selectedColor}`}             \r\n            className={`${theme.productCard.image} ${isLoading ? \"opacity-0\" : \"opacity-100\"}`}\r\n            loading=\"lazy\"\r\n            onLoad={() => setIsLoading(false)}\r\n          />\r\n        ) : (\r\n          <div className={`${theme.productCard.noImage}`}>\r\n            No Image Available\r\n          </div>\r\n        )}\r\n        {isOutOfStock(selectedColor) && (\r\n          <div className={`${theme.productCard.outOfStockOverlay}`}\r\n          aria-label=\"Out of stock\"\r\n          >\r\n            Out of Stock\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div\r\n        className={`${theme.productCard.details}`}\r\n        onClick={() => navigate(`/product/${product.product_id}`)}\r\n        tabIndex={0}\r\n        aria-label={`View details for ${product.name}`}\r\n      >\r\n        <div className={`${theme.productCard.color}`}>{selectedColor}</div>\r\n        <h3 className={`${theme.productCard.name}`}>{product.name}</h3>\r\n\r\n        <div className=\"flex items-center\">\r\n          {selectedInventory.discount_percentage ? (\r\n            <>\r\n              <span className={`${theme.productCard.price} line-through px-2`}                \r\n              aria-label={`Original price ${selectedInventory.list_price} dollars`}\r\n              >\r\n                ${selectedInventory.list_price}\r\n              </span>\r\n              <span\r\n                className={`${theme.productCard.price} ${theme.productCard.priceDiscount}`}\r\n                aria-label={`Discounted price ${getCurrentPrice()} dollars`}\r\n              >\r\n                ${getCurrentPrice()}\r\n              </span>\r\n            </>\r\n          ) : (\r\n            <span className={`${theme.productCard.price} px-2`}\r\n            aria-label={`Price ${selectedInventory.list_price} dollars`}\r\n            >\r\n              ${selectedInventory.list_price}\r\n            </span>\r\n          )}\r\n        </div>\r\n\r\n        <div className={`${theme.productCard.colorOptions}`}>\r\n          {product.colors.map((color, index) => (\r\n            <button\r\n              key={color || index}\r\n              style={{ backgroundColor: color }}\r\n              onClick={(event) => handleColorSelect(event, color)}\r\n              role=\"checkbox\"\r\n              aria-checked={color === selectedColor}\r\n              className={`${theme.productCard.colorButton} ${\r\n                isOutOfStock(color)\r\n                  ? theme.productCard.colorButtonOutOfStock\r\n                  : \"\"\r\n              } ${\r\n                color === selectedColor\r\n                  ? theme.productCard.colorButtonSelected\r\n                  : \"\"\r\n              }\r\n              }`}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nexport default ProductCard;\r\n","import ProductCard from './ProductCard';\r\nimport { Skeleton } from '@mui/material';\r\nimport theme from '../../assets/styles/theme';\r\n\r\nconst ProductGrid = ({ products, className = '', isLoading }) => {\r\n  return (\r\n    <div className={`${theme.productGrid.container} ${className}`}>\r\n      {isLoading\r\n        ? Array.from({ length: 12 }).map((_, index) => (\r\n            <div key={index} className={theme.productGrid.card}>\r\n              {/* Skeleton Image */}\r\n              <div className={theme.productGrid.imageWrapper}>\r\n                <Skeleton\r\n                  variant=\"rectangular\"\r\n                  width=\"100%\"\r\n                  height=\"100%\"\r\n                  sx={{ borderRadius: '8px' }}\r\n                />\r\n              </div>\r\n\r\n              {/* Skeleton Text */}\r\n              <div className={theme.productGrid.details}>\r\n                <Skeleton width=\"80%\" height={20} />\r\n                <Skeleton width=\"60%\" height={20} />\r\n              </div>\r\n            </div>\r\n          ))\r\n        : products.map((product, index) => (\r\n            <ProductCard key={`${product.product_id}-${index}`} product={product} />\r\n          ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductGrid;\r\n","import { useState, useMemo, useEffect } from 'react';\r\nimport theme from '../assets/styles/theme';\r\nimport useFetchCollections from '../components/hooks/useFetchCollections';\r\nimport useFetchProducts from '../components/hooks/useFetchProducts';\r\nimport FilterSidebar from '../components/filters/FilterSidebar';\r\nimport ProductGrid from '../components/product/ProductGrid';\r\nimport { FiFilter } from 'react-icons/fi';\r\n\r\nconst perPage = 9;\r\n\r\nconst ProductListing = () => {\r\n  const [filters, setFilters] = useState({\r\n    collection: [], // collection_id[]\r\n    category: [], // category_id[]\r\n    sizes: [], // size code[]\r\n    colors: [], // color[]\r\n    ratings: [], // [5,4,3...]\r\n    sort: '',\r\n    direction: 'desc',\r\n  });\r\n\r\n  const { collections } = useFetchCollections();\r\n  const { products, loading, error } = useFetchProducts();\r\n\r\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\r\n  const [page, setPage] = useState(1);\r\n\r\n  useEffect(() => {\r\n    const mq = window.matchMedia('(min-width: 1024px)');\r\n\r\n    const handleChange = (e) => {\r\n      if (!e.matches) setIsSidebarOpen(false);\r\n    };\r\n\r\n    mq.addEventListener('change', handleChange);\r\n    return () => mq.removeEventListener('change', handleChange);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setPage(1);\r\n  }, [filters]);\r\n\r\n  const categoryOptions = useMemo(() => {\r\n    const map = new Map();\r\n    products.forEach((p) => {\r\n      const cat = p.category;\r\n      if (cat?.category_id) {\r\n        if (!map.has(cat.category_id)) {\r\n          map.set(cat.category_id, {\r\n            id: cat.category_id,\r\n            label: cat.name,\r\n          });\r\n        }\r\n      }\r\n    });\r\n    return Array.from(map.values());\r\n  }, [products]);\r\n\r\n  const sizeOptions = useMemo(() => {\r\n    const set = new Set();\r\n    products.forEach((p) => {\r\n      (p.sizes || []).forEach((s) => set.add(String(s).toLowerCase()));\r\n      (p.inventory || [])\r\n        .map((inv) => inv.size)\r\n        .filter((s) => s != null)\r\n        .forEach((s) => set.add(String(s).toLowerCase()));\r\n    });\r\n\r\n    return Array.from(set).map((code) => ({\r\n      code,\r\n      label: code.toUpperCase(),\r\n    }));\r\n  }, [products]);\r\n\r\n  const colorOptions = useMemo(() => {\r\n    const set = new Set();\r\n    products.forEach((p) => {\r\n      (p.colors || []).forEach((c) => set.add(c));\r\n    });\r\n    return Array.from(set);\r\n  }, [products]);\r\n\r\n  const filteredProducts = useMemo(() => {\r\n    if (!products || products.length === 0) return [];\r\n\r\n    const selectedCollections = (filters.collection || []).filter((id) => id !== 'latest');\r\n\r\n    return [...products]\r\n      .filter((p) => {\r\n        const pid = p.collection?.collection_id ?? null;\r\n\r\n        // collections union\r\n        const matchCollection =\r\n          selectedCollections.length === 0 || selectedCollections.includes(pid);\r\n\r\n        // sizes union\r\n        const allSizes = [\r\n          ...(p.sizes?.map((s) => String(s).toLowerCase()) ?? []),\r\n          ...(p.inventory\r\n            ?.map((inv) => inv.size)\r\n            .filter(Boolean)\r\n            .map((s) => String(s).toLowerCase()) ?? []),\r\n        ];\r\n        const matchSizes =\r\n          filters.sizes.length === 0 || allSizes.some((s) => filters.sizes.includes(s));\r\n\r\n        // colors union\r\n        const allColors = p.colors ?? [];\r\n        const matchColors =\r\n          filters.colors.length === 0 || allColors.some((c) => filters.colors.includes(c));\r\n\r\n        // ratings union\r\n        const matchRatings =\r\n          filters.ratings.length === 0 ||\r\n          filters.ratings.some((r) => p.rating >= r && p.rating < r + 1);\r\n\r\n        // category union\r\n        const matchCategory =\r\n          filters.category.length === 0 || filters.category.includes(p.category?.category_id);\r\n\r\n        // intersection\r\n        return matchCollection && matchSizes && matchColors && matchRatings && matchCategory;\r\n      })\r\n      .sort((a, b) => {\r\n        const sortKey = filters.sort || 'created';\r\n        const dir = filters.direction || 'desc';\r\n\r\n        let aValue;\r\n        let bValue;\r\n\r\n        switch (sortKey) {\r\n          case 'popular':\r\n            aValue = a.sold ?? 0;\r\n            bValue = b.sold ?? 0;\r\n            break;\r\n          case 'rating':\r\n            aValue = a.rating ?? 0;\r\n            bValue = b.rating ?? 0;\r\n            break;\r\n          case 'price':\r\n            aValue = dir === 'asc' ? (a.priceRange?.lowest ?? 0) : (a.priceRange?.highest ?? 0);\r\n            bValue = dir === 'asc' ? (b.priceRange?.lowest ?? 0) : (b.priceRange?.highest ?? 0);\r\n            break;\r\n          case 'created':\r\n          default:\r\n            aValue = new Date(a.created_at).getTime();\r\n            bValue = new Date(b.created_at).getTime();\r\n            break;\r\n        }\r\n\r\n        return dir === 'asc' ? aValue - bValue : bValue - aValue;\r\n      });\r\n  }, [products, filters]);\r\n\r\n  const totalPages = Math.max(1, Math.ceil(filteredProducts.length / perPage));\r\n  const pagedProducts = useMemo(() => {\r\n    const start = (page - 1) * perPage;\r\n    return filteredProducts.slice(start, start + perPage);\r\n  }, [filteredProducts, page]);\r\n\r\n  const handleSortChange = (e) => {\r\n    const value = e.target.value;\r\n    switch (value) {\r\n      case 'price-asc':\r\n        setFilters((prev) => ({ ...prev, sort: 'price', direction: 'asc' }));\r\n        break;\r\n      case 'price-desc':\r\n        setFilters((prev) => ({ ...prev, sort: 'price', direction: 'desc' }));\r\n        break;\r\n      case 'popular':\r\n        setFilters((prev) => ({\r\n          ...prev,\r\n          sort: 'popular',\r\n          direction: 'desc',\r\n        }));\r\n        break;\r\n      case 'rating':\r\n        setFilters((prev) => ({\r\n          ...prev,\r\n          sort: 'rating',\r\n          direction: 'desc',\r\n        }));\r\n        break;\r\n      case 'created':\r\n      default:\r\n        setFilters((prev) => ({\r\n          ...prev,\r\n          sort: 'created',\r\n          direction: 'desc',\r\n        }));\r\n        break;\r\n    }\r\n  };\r\n\r\n  const errorView = error ? <p className=\"text-red-500 mt-4\">{error}</p> : null;\r\n\r\n  return (\r\n    <div className=\"flex relative\">\r\n      <button\r\n        className={`${theme.filterSidebar.filterButton} md:hidden ${isSidebarOpen ? 'hidden' : ''}`}\r\n        onClick={() => setIsSidebarOpen(true)}\r\n      >\r\n        <FiFilter className={theme.filterSidebar.filterIcon} />\r\n        <span className={theme.filterSidebar.filterText}>Filter</span>\r\n      </button>\r\n\r\n      {/* Sidebar */}\r\n      <FilterSidebar\r\n        filters={filters}\r\n        setFilters={setFilters}\r\n        isSidebarOpen={isSidebarOpen}\r\n        setIsSidebarOpen={setIsSidebarOpen}\r\n        collections={collections}\r\n        categories={categoryOptions}\r\n        sizes={sizeOptions}\r\n        colors={colorOptions}\r\n      />\r\n\r\n      {isSidebarOpen && (\r\n        <div\r\n          className=\"fixed inset-0 md:hidden z-30 bg-transparent\"\r\n          onClick={() => setIsSidebarOpen(false)}\r\n        />\r\n      )}\r\n\r\n      {/* Product Section */}\r\n      <div className={theme.productListing.container}>\r\n        {/* Header */}\r\n        <div className={`${theme.shared.header} ${theme.productListing.header}`}>\r\n          <span></span>\r\n\r\n          <select\r\n            value={\r\n              filters.sort === 'price'\r\n                ? filters.direction === 'asc'\r\n                  ? 'price-asc'\r\n                  : 'price-desc'\r\n                : filters.sort\r\n            }\r\n            onChange={handleSortChange}\r\n            className={theme.productListing.sortSelect}\r\n            aria-label=\"Sort products\"\r\n          >\r\n            <option value=\"\" disabled>\r\n              Sort by\r\n            </option>\r\n            <option value=\"created\">Newest</option>\r\n            <option value=\"popular\">Most popular</option>\r\n            <option value=\"rating\">Best rating</option>\r\n            <option value=\"price-asc\">Price: Low to high</option>\r\n            <option value=\"price-desc\">Price: High to low</option>\r\n          </select>\r\n        </div>\r\n\r\n        {errorView}\r\n\r\n        <ProductGrid\r\n          products={pagedProducts}\r\n          className={`${theme.productGrid.container} ${isSidebarOpen ? 'lg:ml-64' : 'ml-0'}`}\r\n          isLoading={loading}\r\n        />\r\n\r\n        {/* Pagination */}\r\n        {filteredProducts.length > 0 && (\r\n          <div className=\"flex justify-center items-center mt-8 gap-4\">\r\n            <button\r\n              disabled={page === 1}\r\n              onClick={() => setPage((p) => Math.max(1, p - 1))}\r\n              className=\"px-4 py-2 border rounded disabled:opacity-50\"\r\n            >\r\n              Prev\r\n            </button>\r\n\r\n            <span>\r\n              Page {page} of {totalPages}\r\n            </span>\r\n\r\n            <button\r\n              disabled={page === totalPages}\r\n              onClick={() => setPage((p) => Math.min(totalPages, p + 1))}\r\n              className=\"px-4 py-2 border rounded disabled:opacity-50\"\r\n            >\r\n              Next\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductListing;\r\n"],"names":["shared","header","title","productListing","container","grid","sortSelect","sortSelectPlaceholder","sortSelectValue","productCard","card","image","skeleton","details","color","name","price","discount","colorOptions","hoverShadow","outOfStockOverlay","noImage","priceDiscount","colorButton","colorButtonOutOfStock","colorButtonSelected","colors","primary","secondary","neutral","success","error","spacing","sm","md","lg","xl","fontSize","base","borderRadius","none","extend","screens","xs","layout","filterSection","productSection","productGrid","imageWrapper","colorDot","filterSidebar","open","close","sectionButton","sectionContent","clearButton","closeButton","filterButton","filterIcon","filterText","ratings","FILTER_KEYS","DEFAULT_COLLECTIONS","collection_id","useFetchCollections","collections","setCollections","useState","loading","setLoading","setError","useEffect","isMounted","fetch","then","res","ok","Error","json","data","apiCollections","Array","from","Map","filter","p","collection","map","_ref","merged","deduped","c","values","catch","err","message","finally","useFetchProducts","products","setProducts","ac","AbortController","page","perPage","all","signal","isArray","concat","pag","pagination","has_more","e","String","abort","fallbackCategories","id","label","fallbackSizes","code","fallbackColors","filters","setFilters","isSidebarOpen","setIsSidebarOpen","categories","sizes","openSection","setOpenSection","category","categoryOptions","length","sizeOptions","toggleSection","key","prev","handleCheckboxChange","filterType","value","updatedValues","includes","v","push","_jsxs","className","theme","children","_jsx","onClick","_ref2","index","_filters$FILTER_KEYS$","_filters$FILTER_KEYS$2","type","checked","onChange","_ref3","_filters$FILTER_KEYS$3","_ref4","style","backgroundColor","r","_","i","FaStar","activeCount","Object","entries","reduce","acc","_ref5","k","sort","direction","_filteredImages$","_filteredImages$2","product","navigate","useNavigate","selectedColor","setSelectedColor","isHovered","setIsHovered","isLoading","setIsLoading","filteredImages","images","img","selectedInventory","inventory","find","inv","getCurrentPrice","discount_percentage","sale_price","list_price","isOutOfStock","_product$inventory","stock","sold","forEach","preloadedImg","Image","src","image_url","onload","onMouseEnter","onMouseLeave","alt","onLoad","product_id","tabIndex","_Fragment","event","handleColorSelect","stopPropagation","role","Skeleton","variant","width","height","sx","ProductCard","ProductListing","setPage","mq","window","matchMedia","handleChange","matches","addEventListener","removeEventListener","useMemo","cat","category_id","has","set","Set","s","add","toLowerCase","size","toUpperCase","filteredProducts","selectedCollections","_p$collection$collect","_p$collection","_p$sizes$map","_p$sizes","_p$inventory$map$filt","_p$inventory","_p$colors","_p$category","pid","matchCollection","allSizes","Boolean","matchSizes","some","allColors","matchColors","matchRatings","rating","matchCategory","a","b","_a$sold","_b$sold","_a$rating","_b$rating","_a$priceRange$lowest","_a$priceRange","_a$priceRange$highest","_a$priceRange2","_b$priceRange$lowest","_b$priceRange","_b$priceRange$highest","_b$priceRange2","sortKey","dir","aValue","bValue","priceRange","lowest","highest","Date","created_at","getTime","totalPages","Math","max","ceil","pagedProducts","start","slice","errorView","FiFilter","FilterSidebar","target","disabled","ProductGrid","min"],"sourceRoot":""}